import{a as G,j as D}from"./jsx-runtime-29545a09.js";import{r as a}from"./index-76fb7be0.js";import{_ as E}from"./extends-98964cd2.js";import{$ as se}from"./index-6a2b73ba.js";import{$ as ve,b as we,c as C}from"./index-7f80cad2.js";import{$ as K,b as z}from"./index-e2809c0a.js";import{$ as xe}from"./index-c6b1b4f9.js";import{$ as ye}from"./index-11a3acc1.js";import{$ as Ee}from"./index-57a346df.js";import{$ as _e}from"./index-a93a8af2.js";import{L as De}from"./label-4f316bdd.js";import{c as Pe}from"./utils-636fbba8.js";import"./_commonjsHelpers-de833af9.js";import"./index-d3ea75b5.js";const le=["PageUp","PageDown"],ce=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],de={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},B="Slider",[F,Re,Me]=_e(B),[fe,ut]=ve(B,[Me]),[Ce,L]=fe(B),Ke=a.forwardRef((e,t)=>{const{name:n,min:o=0,max:i=100,step:r=1,orientation:c="horizontal",disabled:l=!1,minStepsBetweenThumbs:u=0,defaultValue:m=[o],value:S,onValueChange:s=()=>{},onValueCommit:d=()=>{},inverted:w=!1,...h}=e,[$,b]=a.useState(null),x=K(t,p=>b(p)),R=a.useRef(new Set),f=a.useRef(0),y=c==="horizontal",V=$?!!$.closest("form"):!0,Y=y?Ve:Ie,[g=[],Se]=we({prop:S,defaultProp:m,onChange:p=>{var v;(v=[...R.current][f.current])===null||v===void 0||v.focus(),s(p)}}),j=a.useRef(g);function be(p){const v=Oe(g,p);I(p,v)}function he(p){I(p,f.current)}function ge(){const p=j.current[f.current];g[f.current]!==p&&d(g)}function I(p,v,{commit:T}={commit:!1}){const X=je(r),O=Xe(Math.round((p-o)/r)*r+o,X),A=se(O,[o,i]);Se((M=[])=>{const _=ze(M,A,v);if(Ye(_,u*r)){f.current=_.indexOf(A);const q=String(_)!==String(M);return q&&T&&d(_),q?_:M}else return M})}return a.createElement(Ce,{scope:e.__scopeSlider,disabled:l,min:o,max:i,valueIndexToChangeRef:f,thumbs:R.current,values:g,orientation:c},a.createElement(F.Provider,{scope:e.__scopeSlider},a.createElement(F.Slot,{scope:e.__scopeSlider},a.createElement(Y,E({"aria-disabled":l,"data-disabled":l?"":void 0},h,{ref:x,onPointerDown:C(h.onPointerDown,()=>{l||(j.current=g)}),min:o,max:i,inverted:w,onSlideStart:l?void 0:be,onSlideMove:l?void 0:he,onSlideEnd:l?void 0:ge,onHomeKeyDown:()=>!l&&I(o,0,{commit:!0}),onEndKeyDown:()=>!l&&I(i,g.length-1,{commit:!0}),onStepKeyDown:({event:p,direction:v})=>{if(!l){const O=le.includes(p.key)||p.shiftKey&&ce.includes(p.key)?10:1,A=f.current,M=g[A],_=r*O*v;I(M+_,A,{commit:!0})}}})))),V&&g.map((p,v)=>a.createElement(He,{key:v,name:n?n+(g.length>1?"[]":""):void 0,value:p})))}),[ue,me]=fe(B,{startEdge:"left",endEdge:"right",size:"width",direction:1}),Ve=a.forwardRef((e,t)=>{const{min:n,max:o,dir:i,inverted:r,onSlideStart:c,onSlideMove:l,onSlideEnd:u,onStepKeyDown:m,...S}=e,[s,d]=a.useState(null),w=K(t,f=>d(f)),h=a.useRef(),$=xe(i),b=$==="ltr",x=b&&!r||!b&&r;function R(f){const y=h.current||s.getBoundingClientRect(),V=[0,y.width],g=U(V,x?[n,o]:[o,n]);return h.current=y,g(f-y.left)}return a.createElement(ue,{scope:e.__scopeSlider,startEdge:x?"left":"right",endEdge:x?"right":"left",direction:x?1:-1,size:"width"},a.createElement(pe,E({dir:$,"data-orientation":"horizontal"},S,{ref:w,style:{...S.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:f=>{const y=R(f.clientX);c==null||c(y)},onSlideMove:f=>{const y=R(f.clientX);l==null||l(y)},onSlideEnd:()=>{h.current=void 0,u==null||u()},onStepKeyDown:f=>{const V=de[x?"from-left":"from-right"].includes(f.key);m==null||m({event:f,direction:V?-1:1})}})))}),Ie=a.forwardRef((e,t)=>{const{min:n,max:o,inverted:i,onSlideStart:r,onSlideMove:c,onSlideEnd:l,onStepKeyDown:u,...m}=e,S=a.useRef(null),s=K(t,S),d=a.useRef(),w=!i;function h($){const b=d.current||S.current.getBoundingClientRect(),x=[0,b.height],f=U(x,w?[o,n]:[n,o]);return d.current=b,f($-b.top)}return a.createElement(ue,{scope:e.__scopeSlider,startEdge:w?"bottom":"top",endEdge:w?"top":"bottom",size:"height",direction:w?1:-1},a.createElement(pe,E({"data-orientation":"vertical"},m,{ref:s,style:{...m.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:$=>{const b=h($.clientY);r==null||r(b)},onSlideMove:$=>{const b=h($.clientY);c==null||c(b)},onSlideEnd:()=>{d.current=void 0,l==null||l()},onStepKeyDown:$=>{const x=de[w?"from-bottom":"from-top"].includes($.key);u==null||u({event:$,direction:x?-1:1})}})))}),pe=a.forwardRef((e,t)=>{const{__scopeSlider:n,onSlideStart:o,onSlideMove:i,onSlideEnd:r,onHomeKeyDown:c,onEndKeyDown:l,onStepKeyDown:u,...m}=e,S=L(B,n);return a.createElement(z.span,E({},m,{ref:t,onKeyDown:C(e.onKeyDown,s=>{s.key==="Home"?(c(s),s.preventDefault()):s.key==="End"?(l(s),s.preventDefault()):le.concat(ce).includes(s.key)&&(u(s),s.preventDefault())}),onPointerDown:C(e.onPointerDown,s=>{const d=s.target;d.setPointerCapture(s.pointerId),s.preventDefault(),S.thumbs.has(d)?d.focus():o(s)}),onPointerMove:C(e.onPointerMove,s=>{s.target.hasPointerCapture(s.pointerId)&&i(s)}),onPointerUp:C(e.onPointerUp,s=>{const d=s.target;d.hasPointerCapture(s.pointerId)&&(d.releasePointerCapture(s.pointerId),r(s))})}))}),Ae="SliderTrack",Be=a.forwardRef((e,t)=>{const{__scopeSlider:n,...o}=e,i=L(Ae,n);return a.createElement(z.span,E({"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation},o,{ref:t}))}),W="SliderRange",Te=a.forwardRef((e,t)=>{const{__scopeSlider:n,...o}=e,i=L(W,n),r=me(W,n),c=a.useRef(null),l=K(t,c),u=i.values.length,m=i.values.map(d=>$e(d,i.min,i.max)),S=u>1?Math.min(...m):0,s=100-Math.max(...m);return a.createElement(z.span,E({"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0},o,{ref:l,style:{...e.style,[r.startEdge]:S+"%",[r.endEdge]:s+"%"}}))}),J="SliderThumb",ke=a.forwardRef((e,t)=>{const n=Re(e.__scopeSlider),[o,i]=a.useState(null),r=K(t,l=>i(l)),c=a.useMemo(()=>o?n().findIndex(l=>l.ref.current===o):-1,[n,o]);return a.createElement(Ne,E({},e,{ref:r,index:c}))}),Ne=a.forwardRef((e,t)=>{const{__scopeSlider:n,index:o,...i}=e,r=L(J,n),c=me(J,n),[l,u]=a.useState(null),m=K(t,b=>u(b)),S=Ee(l),s=r.values[o],d=s===void 0?0:$e(s,r.min,r.max),w=Le(o,r.values.length),h=S==null?void 0:S[c.size],$=h?Fe(h,d,c.direction):0;return a.useEffect(()=>{if(l)return r.thumbs.add(l),()=>{r.thumbs.delete(l)}},[l,r.thumbs]),a.createElement("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[c.startEdge]:`calc(${d}% + ${$}px)`}},a.createElement(F.ItemSlot,{scope:e.__scopeSlider},a.createElement(z.span,E({role:"slider","aria-label":e["aria-label"]||w,"aria-valuemin":r.min,"aria-valuenow":s,"aria-valuemax":r.max,"aria-orientation":r.orientation,"data-orientation":r.orientation,"data-disabled":r.disabled?"":void 0,tabIndex:r.disabled?void 0:0},i,{ref:m,style:s===void 0?{display:"none"}:e.style,onFocus:C(e.onFocus,()=>{r.valueIndexToChangeRef.current=o})}))))}),He=e=>{const{value:t,...n}=e,o=a.useRef(null),i=ye(t);return a.useEffect(()=>{const r=o.current,c=window.HTMLInputElement.prototype,u=Object.getOwnPropertyDescriptor(c,"value").set;if(i!==t&&u){const m=new Event("input",{bubbles:!0});u.call(r,t),r.dispatchEvent(m)}},[i,t]),a.createElement("input",E({style:{display:"none"}},n,{ref:o,defaultValue:t}))};function ze(e=[],t,n){const o=[...e];return o[n]=t,o.sort((i,r)=>i-r)}function $e(e,t,n){const r=100/(n-t)*(e-t);return se(r,[0,100])}function Le(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function Oe(e,t){if(e.length===1)return 0;const n=e.map(i=>Math.abs(i-t)),o=Math.min(...n);return n.indexOf(o)}function Fe(e,t,n){const o=e/2,r=U([0,50],[0,o]);return(o-r(t)*n)*n}function Ue(e){return e.slice(0,-1).map((t,n)=>e[n+1]-t)}function Ye(e,t){if(t>0){const n=Ue(e);return Math.min(...n)>=t}return!0}function U(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const o=(t[1]-t[0])/(e[1]-e[0]);return t[0]+o*(n-e[0])}}function je(e){return(String(e).split(".")[1]||"").length}function Xe(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}const qe=Ke,Ge=Be,We=Te,Je=ke,P=a.forwardRef(({className:e,defaultValue:t,value:n,id:o,label:i,...r},c)=>{const l=t||n?(t||n||[]).length:1;return G("div",{className:"grid w-full max-w-sm items-center gap-2.5",children:[i&&D(De,{htmlFor:o,children:i}),G(qe,{value:n,defaultValue:t,id:o,ref:c,className:Pe("relative flex w-full touch-none select-none items-center",e),...r,children:[D(Ge,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:D(We,{className:"absolute h-full bg-primary"})}),[...Array(l)].map((u,m)=>D(Je,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"},m))]})]})});P.displayName="Slider";try{P.displayName="Slider",P.__docgenInfo={description:"",displayName:"Slider",props:{label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"string"}},asChild:{defaultValue:null,description:"",name:"asChild",required:!1,type:{name:"boolean"}}}}}catch{}const mt={component:P,title:"Form/Slider"},k={render:()=>D(P,{label:"My Slider"})},N={render:()=>{const[e,t]=a.useState([25,75]);return D(P,{min:25,max:75,value:e,onValueChange:t,minStepsBetweenThumbs:1,label:"My Slider"})}},H={render:()=>D(P,{disabled:!0,label:"My Slider"})};var Q,Z,ee;k.parameters={...k.parameters,docs:{...(Q=k.parameters)==null?void 0:Q.docs,source:{originalSource:`{
  render: () => {
    return <Slider label="My Slider" />;
  }
}`,...(ee=(Z=k.parameters)==null?void 0:Z.docs)==null?void 0:ee.source}}};var te,ne,oe;N.parameters={...N.parameters,docs:{...(te=N.parameters)==null?void 0:te.docs,source:{originalSource:`{
  render: () => {
    const [value, setValue] = useState([25, 75]);
    return <Slider min={25} max={75} value={value} onValueChange={setValue} minStepsBetweenThumbs={1} label="My Slider" />;
  }
}`,...(oe=(ne=N.parameters)==null?void 0:ne.docs)==null?void 0:oe.source}}};var re,ae,ie;H.parameters={...H.parameters,docs:{...(re=H.parameters)==null?void 0:re.docs,source:{originalSource:`{
  render: () => {
    return <Slider disabled label="My Slider" />;
  }
}`,...(ie=(ae=H.parameters)==null?void 0:ae.docs)==null?void 0:ie.source}}};const pt=["Default","MultiSlider","Disabled"];export{k as Default,H as Disabled,N as MultiSlider,pt as __namedExportsOrder,mt as default};
