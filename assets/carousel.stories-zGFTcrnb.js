import{j as c}from"./clsx-UwsAJbxu.js";import{r as i}from"./index-4g5l5LRQ.js";import{c as E}from"./utils-knXUKJUl.js";import{C as K}from"./chevron-left-2bYw81lw.js";import{C as Q}from"./chevron-right-VaZ_Ug1n.js";import"./_commonjsHelpers-4gQjN7DL.js";import"./createLucideIcon-cZfFbMz1.js";var X=typeof document<"u"?i.useLayoutEffect:i.useEffect,Y=({axis:e="x",initialPages:r=[]}={})=>{const n=e==="x"?"width":"height",t=e==="x"?"scrollWidth":"scrollHeight",o=e==="x"?"clientWidth":"clientHeight",s=e==="x"?"left":"top",u=e==="x"?"right":"bottom",x=e==="x"?"scrollLeft":"scrollTop",[l,$]=i.useState(null),[{pages:p,activePageIndex:m},N]=i.useState({pages:r,activePageIndex:0}),b=i.useCallback(a=>{if(!l)return;if(Math.floor(l[t]-l[x])<=l[o]){N({pages:a,activePageIndex:a.length-1});return}const h=Array.from(l.children),y=l.getBoundingClientRect(),d=a.map(j=>{const L=j[0],C=h[L];g(C instanceof HTMLElement,"Expected HTMLElement");const F=T(l,C,s),J=C.getBoundingClientRect()[s]-y[s]-F;return Math.abs(J)}),f=Math.min(...d),P=d.indexOf(f);N({pages:a,activePageIndex:P})},[l,o,s,t,x]),v=i.useCallback(()=>{if(!l)return;const a=Array.from(l.children),w=l.getBoundingClientRect();let h;const y=a.reduce((d,f,P)=>{g(f instanceof HTMLElement,"Expected HTMLElement");const j=d[d.length-1],L=_(f,f.parentElement);if(!j||L[u]-h>Math.ceil(w[n])){d.push([P]);const C=T(l,f,s);h=L[s]-C}else j.push(P);return d},[]);b(y)},[b,l,n,u,s,x]);X(()=>{v()},[v]),i.useEffect(()=>{const a=()=>{v()};return window.addEventListener("resize",a),window.addEventListener("orientationchange",a),()=>{window.removeEventListener("resize",a),window.removeEventListener("orientationchange",a)}},[v]),i.useEffect(()=>{if(!l)return;const a=()=>{b(p)};return l.addEventListener("scroll",a),()=>{l.removeEventListener("scroll",a)}},[b,p,l]);const k=a=>{if(!l)return;const w=p[a];if(!w)return;const h=Array.from(l.children),y=w[0],d=h[y];if(!(d instanceof HTMLElement))return;const f=T(l,d,s);l.scrollTo({behavior:"smooth",[s]:_(d,d.parentElement)[s]-f})},z=()=>{k(m-1)},G=()=>{k(m+1)},q=i.useMemo(()=>new Set(p.map(a=>a[0])),[p]);return{prev:z,next:G,goTo:k,refresh:v,pages:p,activePageIndex:m,snapPointIndexes:q,scrollRef:$}},_=(e,r)=>{const n=A(e);if(!r)return n;const t=A(r);return{left:n.left-t.left,top:n.top-t.top,right:n.right-t.left,bottom:n.bottom-t.top,width:n.width,height:n.height}},A=e=>{const r=e.getBoundingClientRect();let n=0,t=0,o=e.parentElement;for(;o;)n+=o.scrollLeft,t+=o.scrollTop,o=o.parentElement;const s=r.left+n,u=r.top+t;return{left:s,top:u,right:s+r.width,bottom:u+r.height,width:r.width,height:r.height}},Z=(e,r)=>{const t=window.getComputedStyle(e).getPropertyValue(`scroll-padding-${r}`);if(t==="auto")return 0;const o=`Unsupported scroll padding value, expected <length> or <percentage> value, received ${t}`;if(t.endsWith("px")){const s=parseInt(t);return g(!Number.isNaN(s),o),s}if(t.endsWith("%")){const s=parseInt(t);return g(!Number.isNaN(s),o),e.clientWidth/100*s}throw new V(o)},ee=(e,r)=>{const t=window.getComputedStyle(e).getPropertyValue(`scroll-margin-${r}`),o=`Unsupported scroll margin value, expected <length> value, received ${t}`;g(t.endsWith("px"),o);const s=parseInt(t);return g(!Number.isNaN(s),o),s},T=(e,r,n)=>{const t=Z(e,n),o=ee(r,n),s=_(r,r.parentElement);return Math.min(t+o,s[n])};function g(e,r){if(!e)throw new V(r)}var V=class extends Error{constructor(e){super(`[react-snap-carousel]: ${e}`)}};const S=i.forwardRef(({className:e,isSnapPoint:r,...n},t)=>c.jsx("li",{...n,className:E("h-[250px] w-[250px] flex-shrink-0",{"snap-start":r},e),ref:t}));S.displayName="CarouselSlide";function te({activePage:e,onClick:r,pages:n}){return c.jsx("div",{className:"mt-2 flex flex-wrap items-center justify-center","aria-hidden":!0,children:n.map((t,o)=>c.jsx("button",{"aria-label":`Slide ${o+1}`,type:"button",className:E("m-1 h-3 w-3 bg-gray-300 rounded-full",{"bg-primary":e===o}),onClick:()=>r(o)},o))})}const R=i.forwardRef(({children:e,className:r,...n},t)=>{const{scrollRef:o,pages:s,activePageIndex:u,prev:x,next:l,goTo:$,snapPointIndexes:p}=Y();return c.jsxs("div",{ref:t,className:"relative",children:[c.jsx("ol",{...n,className:E("relative flex overflow-auto snap-x snap-mandatory",r),ref:o,children:i.Children.map(e,(m,N)=>i.cloneElement(m,{...m.props,isSnapPoint:p.has(N)}))}),c.jsx("button",{"aria-label":"next",type:"button",className:E("h-6 w-6 rounded-full shadow-lg bg-card absolute top-1/2 left-2 -translate-y-1/2",{"opacity-30 cursor-not-allowed":u<=0}),onClick:()=>x(),children:c.jsx(K,{})}),c.jsx(te,{activePage:u,onClick:m=>$(m),pages:s}),c.jsx("button",{"aria-label":"previous",type:"button",className:E("h-6 w-6 rounded-full shadow-lg bg-card absolute top-1/2 right-2 -translate-y-1/2",{"opacity-30 cursor-not-allowed":u===s.length-1}),onClick:()=>l(),children:c.jsx(Q,{})})]})});R.displayName="Carousel";try{S.displayName="CarouselSlide",S.__docgenInfo={description:"",displayName:"CarouselSlide",props:{}}}catch{}const de={component:R,title:"Components/Carousel"},M={render:()=>c.jsx(R,{className:"h-full w-full",children:[...Array(10).keys()].map(e=>c.jsx(S,{className:"h-[350px] w-full",children:c.jsx("img",{src:`https://source.unsplash.com/random/1280x720/?fruit&${e}`,alt:`${e}`})},e))})},I={render:()=>c.jsx(R,{className:"h-full w-full",children:[...Array(40).keys()].map(e=>c.jsx(S,{className:"w-full sm:h-[250px] md:h-[350px]",children:c.jsx("img",{className:"w-full object-contain sm:h-full",src:`https://source.unsplash.com/random/1280x720/?fruit&${e}`,alt:`${e}`})},e))})};var H,O,W;M.parameters={...M.parameters,docs:{...(H=M.parameters)==null?void 0:H.docs,source:{originalSource:`{
  render: () => {
    return <Carousel className="h-full w-full">
        {[...Array(10).keys()].map(el => <CarouselSlide className="h-[350px] w-full" key={el}>
            <img src={\`https://source.unsplash.com/random/1280x720/?fruit&\${el}\`} alt={\`\${el}\`} />
          </CarouselSlide>)}
      </Carousel>;
  }
}`,...(W=(O=M.parameters)==null?void 0:O.docs)==null?void 0:W.source}}};var D,B,U;I.parameters={...I.parameters,docs:{...(D=I.parameters)==null?void 0:D.docs,source:{originalSource:`{
  render: () => {
    return <Carousel className="h-full w-full">
        {[...Array(40).keys()].map(el => <CarouselSlide className="w-full sm:h-[250px] md:h-[350px]" key={el}>
            <img className="w-full object-contain sm:h-full" src={\`https://source.unsplash.com/random/1280x720/?fruit&\${el}\`} alt={\`\${el}\`} />
          </CarouselSlide>)}
      </Carousel>;
  }
}`,...(U=(B=I.parameters)==null?void 0:B.docs)==null?void 0:U.source}}};const ue=["Default","LotOfSlides"];export{M as Default,I as LotOfSlides,ue as __namedExportsOrder,de as default};
