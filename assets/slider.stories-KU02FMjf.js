import{j as E}from"./clsx-UwsAJbxu.js";import{r as a}from"./index-4g5l5LRQ.js";import{_}from"./extends-dGVwEr9R.js";import{$ as se}from"./index-f2GGseSc.js";import{$ as ge,b as ve,c as C}from"./index-0dIgYeBD.js";import{$ as K,b as H}from"./index-XGpeoBSN.js";import{$ as xe}from"./index-8KrFLZLq.js";import{$ as we}from"./index-FkhxRFYx.js";import{$ as ye}from"./index-EwzVq0z5.js";import{$ as Ee}from"./index-mbzsKfaj.js";import{L as _e}from"./label-uOIc7YNg.js";import{c as De}from"./utils-knXUKJUl.js";import"./_commonjsHelpers-4gQjN7DL.js";import"./index-jmm5gWkb.js";const ie=["PageUp","PageDown"],le=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],ce={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},B="Slider",[O,Pe,Re]=Ee(B),[de,ft]=ge(B,[Re]),[Me,z]=de(B),Ce=a.forwardRef((e,t)=>{const{name:n,min:o=0,max:s=100,step:r=1,orientation:c="horizontal",disabled:l=!1,minStepsBetweenThumbs:u=0,defaultValue:m=[o],value:S,onValueChange:i=()=>{},onValueCommit:d=()=>{},inverted:x=!1,...h}=e,[$,b]=a.useState(null),w=K(t,p=>b(p)),R=a.useRef(new Set),f=a.useRef(0),y=c==="horizontal",V=$?!!$.closest("form"):!0,U=y?Ke:Ve,[g=[],$e]=ve({prop:S,defaultProp:m,onChange:p=>{var v;(v=[...R.current][f.current])===null||v===void 0||v.focus(),i(p)}}),Y=a.useRef(g);function Se(p){const v=ze(g,p);I(p,v)}function be(p){I(p,f.current)}function he(){const p=Y.current[f.current];g[f.current]!==p&&d(g)}function I(p,v,{commit:T}={commit:!1}){const X=Ue(r),L=Ye(Math.round((p-o)/r)*r+o,X),A=se(L,[o,s]);$e((M=[])=>{const D=je(M,A,v);if(Fe(D,u*r)){f.current=D.indexOf(A);const q=String(D)!==String(M);return q&&T&&d(D),q?D:M}else return M})}return a.createElement(Me,{scope:e.__scopeSlider,disabled:l,min:o,max:s,valueIndexToChangeRef:f,thumbs:R.current,values:g,orientation:c},a.createElement(O.Provider,{scope:e.__scopeSlider},a.createElement(O.Slot,{scope:e.__scopeSlider},a.createElement(U,_({"aria-disabled":l,"data-disabled":l?"":void 0},h,{ref:w,onPointerDown:C(h.onPointerDown,()=>{l||(Y.current=g)}),min:o,max:s,inverted:x,onSlideStart:l?void 0:Se,onSlideMove:l?void 0:be,onSlideEnd:l?void 0:he,onHomeKeyDown:()=>!l&&I(o,0,{commit:!0}),onEndKeyDown:()=>!l&&I(s,g.length-1,{commit:!0}),onStepKeyDown:({event:p,direction:v})=>{if(!l){const L=ie.includes(p.key)||p.shiftKey&&le.includes(p.key)?10:1,A=f.current,M=g[A],D=r*L*v;I(M+D,A,{commit:!0})}}})))),V&&g.map((p,v)=>a.createElement(Ne,{key:v,name:n?n+(g.length>1?"[]":""):void 0,value:p})))}),[fe,ue]=de(B,{startEdge:"left",endEdge:"right",size:"width",direction:1}),Ke=a.forwardRef((e,t)=>{const{min:n,max:o,dir:s,inverted:r,onSlideStart:c,onSlideMove:l,onSlideEnd:u,onStepKeyDown:m,...S}=e,[i,d]=a.useState(null),x=K(t,f=>d(f)),h=a.useRef(),$=xe(s),b=$==="ltr",w=b&&!r||!b&&r;function R(f){const y=h.current||i.getBoundingClientRect(),V=[0,y.width],g=F(V,w?[n,o]:[o,n]);return h.current=y,g(f-y.left)}return a.createElement(fe,{scope:e.__scopeSlider,startEdge:w?"left":"right",endEdge:w?"right":"left",direction:w?1:-1,size:"width"},a.createElement(me,_({dir:$,"data-orientation":"horizontal"},S,{ref:x,style:{...S.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:f=>{const y=R(f.clientX);c==null||c(y)},onSlideMove:f=>{const y=R(f.clientX);l==null||l(y)},onSlideEnd:()=>{h.current=void 0,u==null||u()},onStepKeyDown:f=>{const V=ce[w?"from-left":"from-right"].includes(f.key);m==null||m({event:f,direction:V?-1:1})}})))}),Ve=a.forwardRef((e,t)=>{const{min:n,max:o,inverted:s,onSlideStart:r,onSlideMove:c,onSlideEnd:l,onStepKeyDown:u,...m}=e,S=a.useRef(null),i=K(t,S),d=a.useRef(),x=!s;function h($){const b=d.current||S.current.getBoundingClientRect(),w=[0,b.height],f=F(w,x?[o,n]:[n,o]);return d.current=b,f($-b.top)}return a.createElement(fe,{scope:e.__scopeSlider,startEdge:x?"bottom":"top",endEdge:x?"top":"bottom",size:"height",direction:x?1:-1},a.createElement(me,_({"data-orientation":"vertical"},m,{ref:i,style:{...m.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:$=>{const b=h($.clientY);r==null||r(b)},onSlideMove:$=>{const b=h($.clientY);c==null||c(b)},onSlideEnd:()=>{d.current=void 0,l==null||l()},onStepKeyDown:$=>{const w=ce[x?"from-bottom":"from-top"].includes($.key);u==null||u({event:$,direction:w?-1:1})}})))}),me=a.forwardRef((e,t)=>{const{__scopeSlider:n,onSlideStart:o,onSlideMove:s,onSlideEnd:r,onHomeKeyDown:c,onEndKeyDown:l,onStepKeyDown:u,...m}=e,S=z(B,n);return a.createElement(H.span,_({},m,{ref:t,onKeyDown:C(e.onKeyDown,i=>{i.key==="Home"?(c(i),i.preventDefault()):i.key==="End"?(l(i),i.preventDefault()):ie.concat(le).includes(i.key)&&(u(i),i.preventDefault())}),onPointerDown:C(e.onPointerDown,i=>{const d=i.target;d.setPointerCapture(i.pointerId),i.preventDefault(),S.thumbs.has(d)?d.focus():o(i)}),onPointerMove:C(e.onPointerMove,i=>{i.target.hasPointerCapture(i.pointerId)&&s(i)}),onPointerUp:C(e.onPointerUp,i=>{const d=i.target;d.hasPointerCapture(i.pointerId)&&(d.releasePointerCapture(i.pointerId),r(i))})}))}),Ie="SliderTrack",Ae=a.forwardRef((e,t)=>{const{__scopeSlider:n,...o}=e,s=z(Ie,n);return a.createElement(H.span,_({"data-disabled":s.disabled?"":void 0,"data-orientation":s.orientation},o,{ref:t}))}),G="SliderRange",Be=a.forwardRef((e,t)=>{const{__scopeSlider:n,...o}=e,s=z(G,n),r=ue(G,n),c=a.useRef(null),l=K(t,c),u=s.values.length,m=s.values.map(d=>pe(d,s.min,s.max)),S=u>1?Math.min(...m):0,i=100-Math.max(...m);return a.createElement(H.span,_({"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0},o,{ref:l,style:{...e.style,[r.startEdge]:S+"%",[r.endEdge]:i+"%"}}))}),W="SliderThumb",Te=a.forwardRef((e,t)=>{const n=Pe(e.__scopeSlider),[o,s]=a.useState(null),r=K(t,l=>s(l)),c=a.useMemo(()=>o?n().findIndex(l=>l.ref.current===o):-1,[n,o]);return a.createElement(ke,_({},e,{ref:r,index:c}))}),ke=a.forwardRef((e,t)=>{const{__scopeSlider:n,index:o,...s}=e,r=z(W,n),c=ue(W,n),[l,u]=a.useState(null),m=K(t,b=>u(b)),S=ye(l),i=r.values[o],d=i===void 0?0:pe(i,r.min,r.max),x=He(o,r.values.length),h=S==null?void 0:S[c.size],$=h?Le(h,d,c.direction):0;return a.useEffect(()=>{if(l)return r.thumbs.add(l),()=>{r.thumbs.delete(l)}},[l,r.thumbs]),a.createElement("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[c.startEdge]:`calc(${d}% + ${$}px)`}},a.createElement(O.ItemSlot,{scope:e.__scopeSlider},a.createElement(H.span,_({role:"slider","aria-label":e["aria-label"]||x,"aria-valuemin":r.min,"aria-valuenow":i,"aria-valuemax":r.max,"aria-orientation":r.orientation,"data-orientation":r.orientation,"data-disabled":r.disabled?"":void 0,tabIndex:r.disabled?void 0:0},s,{ref:m,style:i===void 0?{display:"none"}:e.style,onFocus:C(e.onFocus,()=>{r.valueIndexToChangeRef.current=o})}))))}),Ne=e=>{const{value:t,...n}=e,o=a.useRef(null),s=we(t);return a.useEffect(()=>{const r=o.current,c=window.HTMLInputElement.prototype,u=Object.getOwnPropertyDescriptor(c,"value").set;if(s!==t&&u){const m=new Event("input",{bubbles:!0});u.call(r,t),r.dispatchEvent(m)}},[s,t]),a.createElement("input",_({style:{display:"none"}},n,{ref:o,defaultValue:t}))};function je(e=[],t,n){const o=[...e];return o[n]=t,o.sort((s,r)=>s-r)}function pe(e,t,n){const r=100/(n-t)*(e-t);return se(r,[0,100])}function He(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function ze(e,t){if(e.length===1)return 0;const n=e.map(s=>Math.abs(s-t)),o=Math.min(...n);return n.indexOf(o)}function Le(e,t,n){const o=e/2,r=F([0,50],[0,o]);return(o-r(t)*n)*n}function Oe(e){return e.slice(0,-1).map((t,n)=>e[n+1]-t)}function Fe(e,t){if(t>0){const n=Oe(e);return Math.min(...n)>=t}return!0}function F(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const o=(t[1]-t[0])/(e[1]-e[0]);return t[0]+o*(n-e[0])}}function Ue(e){return(String(e).split(".")[1]||"").length}function Ye(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}const Xe=Ce,qe=Ae,Ge=Be,We=Te,P=a.forwardRef(({className:e,defaultValue:t,value:n,id:o,label:s,...r},c)=>{const l=t||n?(t||n||[]).length:1;return E.jsxs("div",{className:"grid w-full max-w-sm items-center gap-2.5",children:[s&&E.jsx(_e,{htmlFor:o,children:s}),E.jsxs(Xe,{value:n,defaultValue:t,id:o,ref:c,className:De("relative flex w-full touch-none select-none items-center",e),...r,children:[E.jsx(qe,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:E.jsx(Ge,{className:"absolute h-full bg-primary"})}),[...Array(l)].map((u,m)=>E.jsx(We,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"},m))]})]})});P.displayName="Slider";try{P.displayName="Slider",P.__docgenInfo={description:"",displayName:"Slider",props:{label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"string"}},asChild:{defaultValue:null,description:"",name:"asChild",required:!1,type:{name:"boolean"}}}}}catch{}const ut={component:P,title:"Form/Slider"},k={render:()=>E.jsx(P,{label:"My Slider"})},N={render:()=>{const[e,t]=a.useState([25,75]);return E.jsx(P,{min:25,max:75,value:e,onValueChange:t,minStepsBetweenThumbs:1,label:"My Slider"})}},j={render:()=>E.jsx(P,{disabled:!0,label:"My Slider"})};var J,Q,Z;k.parameters={...k.parameters,docs:{...(J=k.parameters)==null?void 0:J.docs,source:{originalSource:`{
  render: () => {
    return <Slider label="My Slider" />;
  }
}`,...(Z=(Q=k.parameters)==null?void 0:Q.docs)==null?void 0:Z.source}}};var ee,te,ne;N.parameters={...N.parameters,docs:{...(ee=N.parameters)==null?void 0:ee.docs,source:{originalSource:`{
  render: () => {
    const [value, setValue] = useState([25, 75]);
    return <Slider min={25} max={75} value={value} onValueChange={setValue} minStepsBetweenThumbs={1} label="My Slider" />;
  }
}`,...(ne=(te=N.parameters)==null?void 0:te.docs)==null?void 0:ne.source}}};var oe,re,ae;j.parameters={...j.parameters,docs:{...(oe=j.parameters)==null?void 0:oe.docs,source:{originalSource:`{
  render: () => {
    return <Slider disabled label="My Slider" />;
  }
}`,...(ae=(re=j.parameters)==null?void 0:re.docs)==null?void 0:ae.source}}};const mt=["Default","MultiSlider","Disabled"];export{k as Default,j as Disabled,N as MultiSlider,mt as __namedExportsOrder,ut as default};
