import{r as b,R as Ft}from"./index-4g5l5LRQ.js";import"./index-jmm5gWkb.js";const $t=Symbol(),ct=Symbol(),k="a",G="w";let kt=(t,e)=>new Proxy(t,e);const it=Object.getPrototypeOf,rt=new WeakMap,St=t=>t&&(rt.has(t)?rt.get(t):it(t)===Object.prototype||it(t)===Array.prototype),ht=t=>typeof t=="object"&&t!==null,Wt=t=>{if(Array.isArray(t))return Array.from(t);const e=Object.getOwnPropertyDescriptors(t);return Object.values(e).forEach(n=>{n.configurable=!0}),Object.create(it(t),e)},bt=t=>t[ct]||t,xt=(t,e,n,s)=>{if(!St(t))return t;let i=s&&s.get(t);if(!i){const m=bt(t);i=(d=>Object.values(Object.getOwnPropertyDescriptors(d)).some(r=>!r.configurable&&!r.writable))(m)?[m,Wt(m)]:[m],s==null||s.set(t,i)}const[a,u]=i;let g=n&&n.get(a);return g&&g[1].f===!!u||(g=((m,d)=>{const r={f:d};let c=!1;const o=(l,p)=>{if(!c){let y=r[k].get(m);if(y||(y={},r[k].set(m,y)),l===G)y[G]=!0;else{let v=y[l];v||(v=new Set,y[l]=v),v.add(p)}}},h={get:(l,p)=>p===ct?m:(o("k",p),xt(Reflect.get(l,p),r[k],r.c,r.t)),has:(l,p)=>p===$t?(c=!0,r[k].delete(m),!0):(o("h",p),Reflect.has(l,p)),getOwnPropertyDescriptor:(l,p)=>(o("o",p),Reflect.getOwnPropertyDescriptor(l,p)),ownKeys:l=>(o(G),Reflect.ownKeys(l))};return d&&(h.set=h.deleteProperty=()=>!1),[h,r]})(a,!!u),g[1].p=kt(u||a,g[0]),n&&n.set(a,g)),g[1][k]=e,g[1].c=n,g[1].t=s,g[1].p},At=(t,e,n,s)=>{if(Object.is(t,e))return!1;if(!ht(t)||!ht(e))return!0;const i=n.get(bt(t));if(!i)return!0;if(s){const u=s.get(t);if(u&&u.n===e)return u.g;s.set(t,{n:e,g:!1})}let a=null;try{for(const u of i.h||[])if(a=Reflect.has(t,u)!==Reflect.has(e,u),a)return a;if(i[G]===!0){if(a=((u,g)=>{const m=Reflect.ownKeys(u),d=Reflect.ownKeys(g);return m.length!==d.length||m.some((r,c)=>r!==d[c])})(t,e),a)return a}else for(const u of i.o||[])if(a=!!Reflect.getOwnPropertyDescriptor(t,u)!=!!Reflect.getOwnPropertyDescriptor(e,u),a)return a;for(const u of i.k||[])if(a=At(t[u],e[u],n,s),a)return a;return a===null&&(a=!0),a}finally{s&&s.set(t,{n:e,g:a})}},_t=t=>St(t)&&t[ct]||null,ft=(t,e=!0)=>{rt.set(t,e)};var Q=t=>typeof t=="object"&&t!==null,L=new WeakMap,W=new WeakSet,zt=(t=Object.is,e=(d,r)=>new Proxy(d,r),n=d=>Q(d)&&!W.has(d)&&(Array.isArray(d)||!(Symbol.iterator in d))&&!(d instanceof WeakMap)&&!(d instanceof WeakSet)&&!(d instanceof Error)&&!(d instanceof Number)&&!(d instanceof Date)&&!(d instanceof String)&&!(d instanceof RegExp)&&!(d instanceof ArrayBuffer),s=d=>{switch(d.status){case"fulfilled":return d.value;case"rejected":throw d.reason;default:throw d}},i=new WeakMap,a=(d,r,c=s)=>{const o=i.get(d);if((o==null?void 0:o[0])===r)return o[1];const h=Array.isArray(d)?[]:Object.create(Object.getPrototypeOf(d));return ft(h,!0),i.set(d,[r,h]),Reflect.ownKeys(d).forEach(l=>{const p=Reflect.get(d,l);W.has(p)?(ft(p,!1),h[l]=p):p instanceof Promise?Object.defineProperty(h,l,{get(){return c(p)}}):L.has(p)?h[l]=P(p,c):h[l]=p}),Object.freeze(h)},u=new WeakMap,g=[1,1],m=d=>{if(!Q(d))throw new Error("object required");const r=u.get(d);if(r)return r;let c=g[0];const o=new Set,h=(S,w=++g[0])=>{c!==w&&(c=w,o.forEach(E=>E(S,w)))};let l=g[1];const p=(S=++g[1])=>(l!==S&&!o.size&&(l=S,v.forEach(([w])=>{const E=w[1](S);E>c&&(c=E)})),c),y=S=>(w,E)=>{const C=[...w];C[1]=[S,...C[1]],h(C,E)},v=new Map,A=(S,w)=>{if(o.size){const E=w[3](y(S));v.set(S,[w,E])}else v.set(S,[w])},R=S=>{var E;const w=v.get(S);w&&(v.delete(S),(E=w[1])==null||E.call(w))},J=S=>(o.add(S),o.size===1&&v.forEach(([E,C],N)=>{const $=E[3](y(N));v.set(N,[E,$])}),()=>{o.delete(S),o.size===0&&v.forEach(([E,C],N)=>{C&&(C(),v.set(N,[E]))})}),I=Array.isArray(d)?[]:Object.create(Object.getPrototypeOf(d)),V=e(I,{deleteProperty(S,w){const E=Reflect.get(S,w);R(w);const C=Reflect.deleteProperty(S,w);return C&&h(["delete",[w],E]),C},set(S,w,E,C){var ut;const N=Reflect.has(S,w),$=Reflect.get(S,w,C);if(N&&(t($,E)||u.has(E)&&t($,u.get(E))))return!0;R(w),Q(E)&&(E=_t(E)||E);let K=E;if(!((ut=Object.getOwnPropertyDescriptor(S,w))!=null&&ut.set))if(E instanceof Promise)E.then(j=>{E.status="fulfilled",E.value=j,h(["resolve",[w],j])}).catch(j=>{E.status="rejected",E.reason=j,h(["reject",[w],j])});else{!L.has(E)&&n(E)&&(K=at(E));const j=!W.has(K)&&L.get(K);j&&A(w,j)}return Reflect.set(S,w,K,C),h(["set",[w],E,$]),!0}});u.set(d,V);const Tt=[I,p,a,J];return L.set(V,Tt),Reflect.ownKeys(d).forEach(S=>{const w=Object.getOwnPropertyDescriptor(d,S);w.get||w.set?Object.defineProperty(I,S,w):V[S]=d[S]}),V})=>[m,L,W,t,e,n,s,i,a,u,g],[It]=zt();function at(t={}){return It(t)}function U(t,e,n){const s=L.get(t);let i;const a=[],u=s[3];let g=!1;const d=u(r=>{if(a.push(r),n){e(a.splice(0));return}i||(i=Promise.resolve().then(()=>{i=void 0,g&&e(a.splice(0))}))});return g=!0,()=>{g=!1,d()}}function P(t,e){const n=L.get(t),[s,i,a]=n;return a(s,i(),e)}function lt(t){return W.add(t),t}function Vt(t,e){Object.keys(e).forEach(i=>{if(Object.getOwnPropertyDescriptor(t,i))throw new Error("object property already defined");const a=e[i],{get:u,set:g}=typeof a=="function"?{get:a}:a,m={};m.get=()=>u(P(s)),g&&(m.set=d=>g(s,d)),Object.defineProperty(t,i,m)});const s=at(t);return s}var Kt=(t,e)=>Object.is(t,e);function dt(t,e,n,s,i){let a=Reflect.get(P(t),e);const u=i||Kt;function g(){const m=P(t);u(a,m[e])||(n(m[e]),a=Reflect.get(m,e))}return U(t,g,s)}function pt(t,e,n){typeof n.value=="object"&&(n.value=F(n.value)),!n.enumerable||n.get||n.set||!n.configurable||!n.writable||e==="__proto__"?Object.defineProperty(t,e,n):t[e]=n.value}function F(t){if(typeof t!="object")return t;var e=0,n,s,i,a=Object.prototype.toString.call(t);if(a==="[object Object]"?i=Object.create(t.__proto__||null):a==="[object Array]"?i=Array(t.length):a==="[object Set]"?(i=new Set,t.forEach(function(u){i.add(F(u))})):a==="[object Map]"?(i=new Map,t.forEach(function(u,g){i.set(F(g),F(u))})):a==="[object Date]"?i=new Date(+t):a==="[object RegExp]"?i=new RegExp(t.source,t.flags):a==="[object DataView]"?i=new t.constructor(F(t.buffer)):a==="[object ArrayBuffer]"?i=t.slice(0):a.slice(-6)==="Array]"&&(i=new t.constructor(t)),i){for(s=Object.getOwnPropertySymbols(t);e<s.length;e++)pt(i,s[e],Object.getOwnPropertyDescriptor(t,s[e]));for(e=0,s=Object.getOwnPropertyNames(t);e<s.length;e++)Object.hasOwnProperty.call(i,n=s[e])&&i[n]===t[n]||pt(i,n,Object.getOwnPropertyDescriptor(t,n))}return i||t}var Bt=Object.defineProperty,Gt=(t,e,n)=>e in t?Bt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,f=(t,e,n)=>(Gt(t,typeof e!="symbol"?e+"":e,n),n);function qt(t){for(;t.length>0;)t.pop();return t}var gt=(t,...e)=>(typeof t=="function"?t(...e):t)??void 0,O=t=>t,H=()=>{},Ut=(...t)=>(...e)=>{t.forEach(function(n){n==null||n(...e)})},yt=(()=>{let t=0;return()=>(t++,t.toString(36))})(),_=t=>Array.isArray(t),z=t=>!(t==null||typeof t!="object"||_(t)),Zt=t=>typeof t=="number"&&!Number.isNaN(t),M=t=>typeof t=="string",Z=t=>typeof t=="function";function X(t){if(!Xt(t)||t===void 0)return t;const e=Reflect.ownKeys(t).filter(s=>typeof s=="string"),n={};for(const s of e){const i=t[s];i!==void 0&&(n[s]=X(i))}return n}var Xt=t=>t&&typeof t=="object"&&t.constructor===Object;function tt(...t){const e=t.length===1?t[0]:t[1],n=t.length===2?t[0]:!0}function q(...t){const e=t.length===1?t[0]:t[1],n=t.length===2?t[0]:!0}function Ct(t,...e){for(const n of e){const s=X(n);for(const i in s)z(n[i])?(t[i]||(t[i]={}),Ct(t[i],n[i])):t[i]=n[i]}return t}function mt(t){return F(t)}function x(t){return M(t)?{type:t}:t}function D(t){return t?_(t)?t.slice():[t]:[]}function Mt(t){return z(t)&&t.predicate!=null}var Ot=()=>!0;function Y(t,e,n,s){return i=>{var a;return M(i)?!!((a=t[i])!=null&&a.call(t,e,n,s)):Z(i)?i(e,n,s):i.predicate(t)(e,n,s)}}function Yt(...t){return{predicate:e=>(n,s,i)=>t.map(Y(e,n,s,i)).some(Boolean)}}function Jt(...t){return{predicate:e=>(n,s,i)=>t.map(Y(e,n,s,i)).every(Boolean)}}function Qt(t){return{predicate:e=>(n,s,i)=>!Y(e,n,s,i)(t)}}function Ht(...t){return(e,n,s)=>s.state.matches(...t)}var Ie={or:Yt,and:Jt,not:Qt,stateIn:Ht};function Ve(t){return{predicate:e=>(n,s,i)=>{var a;return(a=t.find(u=>{const g=u.guard??Ot;return Y(e,n,s,i)(g)}))==null?void 0:a.actions}}}function jt(t,e){return t=t??Ot,(n,s,i)=>{if(M(t)){const a=e[t];return Z(a)?a(n,s,i):a}return Mt(t)?t.predicate(e)(n,s,i):t==null?void 0:t(n,s,i)}}function et(t,e){return(n,s,i)=>Mt(t)?t.predicate(e)(n,s,i):t}function te(t){const e=t.computed??O({}),n=t.context??O({}),s=at({value:t.initial??"",previousValue:"",event:O({}),previousEvent:O({}),context:Vt(n,e),done:!1,tags:[],hasTag(i){return this.tags.includes(i)},matches(...i){return i.includes(this.value)},can(i){return O(this).nextEvents.includes(i)},get nextEvents(){var u,g;const i=((g=(u=t.states)==null?void 0:u[this.value])==null?void 0:g.on)??{},a=(t==null?void 0:t.on)??{};return Object.keys({...i,...a})},get changed(){return this.event.value==="machine.init"||!this.previousValue?!1:this.value!==this.previousValue}});return O(s)}function B(t,e){return(n,s)=>{if(Zt(t))return t;if(Z(t))return t(n,s);if(M(t)){const i=Number.parseFloat(t);if(!Number.isNaN(i))return i;if(e){const a=e==null?void 0:e[t];return q(a==null,`[@zag-js/core > determine-delay] Cannot determine delay for \`${t}\`. It doesn't exist in \`options.delays\``),Z(a)?a(n,s):a}}}}function ee(t){return M(t)?{target:t}:t}function ne(t,e){return(n,s,i)=>D(t).map(ee).find(a=>jt(a.guard,e)(n,s,i)??a.target??a.actions)}var se=class Dt{constructor(e,n){var i,a,u,g,m,d;f(this,"status","Not Started"),f(this,"state"),f(this,"initialState"),f(this,"initialContext"),f(this,"id"),f(this,"type","machine"),f(this,"activityEvents",new Map),f(this,"delayedEvents",new Map),f(this,"stateListeners",new Set),f(this,"contextListeners",new Set),f(this,"eventListeners",new Set),f(this,"doneListeners",new Set),f(this,"contextWatchers",new Set),f(this,"removeStateListener",H),f(this,"removeEventListener",H),f(this,"removeContextListener",H),f(this,"parent"),f(this,"children",new Map),f(this,"guardMap"),f(this,"actionMap"),f(this,"delayMap"),f(this,"activityMap"),f(this,"sync"),f(this,"options"),f(this,"config"),f(this,"start",r=>{if(this.state.value="",this.status==="Running")return this;this.status="Running",this.removeStateListener=U(this.state,()=>{this.stateListeners.forEach(y=>{y(this.stateSnapshot)})},this.sync),this.removeEventListener=dt(this.state,"event",y=>{this.executeActions(this.config.onEvent,y),this.eventListeners.forEach(v=>{v(y)})},this.sync),this.removeContextListener=U(this.state.context,()=>{this.log("Context:",this.contextSnapshot),this.contextListeners.forEach(y=>{y(this.contextSnapshot)})},this.sync||this.options.debug),this.setupContextWatchers(),this.executeActivities(x("machine.start"),D(this.config.activities),"machine.start"),this.executeActions(this.config.entry,x("machine.start"));const c=x("machine.init"),o=z(r)?r.value:r,h=z(r)?r.context:void 0;h&&this.setContext(h);const l={target:o??this.config.initial},p=this.getNextStateInfo(l,c);return this.initialState=p,this.performStateChangeEffects(this.state.value,p,c),this}),f(this,"setupContextWatchers",()=>{var r;for(const[c,o]of Object.entries(this.config.watch??{})){const h=(r=this.options.compareFns)==null?void 0:r[c],l=dt(this.state.context,c,()=>{this.executeActions(o,this.state.event)},this.sync,h);this.contextWatchers.add(l)}}),f(this,"stop",()=>{if(this.status!=="Stopped")return this.performExitEffects(this.state.value,x("machine.stop")),this.executeActions(this.config.exit,x("machine.stop")),this.setState(""),this.setEvent("machine.stop"),this.stopStateListeners(),this.stopChildren(),this.stopActivities(),this.stopDelayedEvents(),this.stopContextWatchers(),this.stopEventListeners(),this.stopContextListeners(),this.status="Stopped",this}),f(this,"stopEventListeners",()=>{this.eventListeners.clear(),this.removeEventListener()}),f(this,"stopContextListeners",()=>{this.contextListeners.clear(),this.removeContextListener()}),f(this,"stopStateListeners",()=>{this.removeStateListener(),this.stateListeners.clear()}),f(this,"stopContextWatchers",()=>{this.contextWatchers.forEach(r=>r()),this.contextWatchers.clear()}),f(this,"stopDelayedEvents",()=>{this.delayedEvents.forEach(r=>{r.forEach(c=>c())}),this.delayedEvents.clear()}),f(this,"stopActivities",r=>{var c,o;r?((c=this.activityEvents.get(r))==null||c.forEach(h=>h()),(o=this.activityEvents.get(r))==null||o.clear(),this.activityEvents.delete(r)):(this.activityEvents.forEach(h=>{h.forEach(l=>l()),h.clear()}),this.activityEvents.clear())}),f(this,"sendChild",(r,c)=>{const o=x(r),h=gt(c,this.contextSnapshot),l=this.children.get(h);l||q(`[@zag-js/core] Cannot send '${o.type}' event to unknown child`),l.send(o)}),f(this,"stopChild",r=>{this.children.has(r)||q(`[@zag-js/core > stop-child] Cannot stop unknown child ${r}`),this.children.get(r).stop(),this.children.delete(r)}),f(this,"removeChild",r=>{this.children.delete(r)}),f(this,"stopChildren",()=>{this.children.forEach(r=>r.stop()),this.children.clear()}),f(this,"setParent",r=>{this.parent=r}),f(this,"spawn",(r,c)=>{const o=gt(r);return c&&(o.id=c),o.type="machine.actor",o.setParent(this),this.children.set(o.id,O(o)),o.onDone(()=>{this.removeChild(o.id)}).start(),O(lt(o))}),f(this,"stopActivity",r=>{var o;if(!this.state.value)return;const c=this.activityEvents.get(this.state.value);(o=c==null?void 0:c.get(r))==null||o(),c==null||c.delete(r)}),f(this,"addActivityCleanup",(r,c,o)=>{var h;r&&(this.activityEvents.has(r)?(h=this.activityEvents.get(r))==null||h.set(c,o):this.activityEvents.set(r,new Map([[c,o]])))}),f(this,"setState",r=>{this.state.previousValue=this.state.value,this.state.value=r;const c=this.getStateNode(r);r==null?qt(this.state.tags):this.state.tags=D(c==null?void 0:c.tags)}),f(this,"transformContext",r=>{var c,o;return(o=(c=this.options)==null?void 0:c.transformContext)==null||o.call(c,r),r}),f(this,"setContext",r=>{r&&Ct(this.state.context,this.transformContext(r))}),f(this,"withContext",r=>{const c=this.transformContext(r),o={...this.config.context,...X(c)};return new Dt({...this.config,context:o},this.options)}),f(this,"setOptions",r=>{const c=X(r);this.actionMap={...this.actionMap,...c.actions},this.delayMap={...this.delayMap,...c.delays},this.activityMap={...this.activityMap,...c.activities},this.guardMap={...this.guardMap,...c.guards}}),f(this,"getStateNode",r=>{var c;if(r)return(c=this.config.states)==null?void 0:c[r]}),f(this,"getNextStateInfo",(r,c)=>{const o=this.determineTransition(r,c),h=!(o!=null&&o.target),l=(o==null?void 0:o.target)??this.state.value,p=this.state.value!==l,y=this.getStateNode(l),A={reenter:!h&&!p&&!(o!=null&&o.internal),transition:o,stateNode:y,target:l,changed:p};return this.log("NextState:",`[${c.type}]`,this.state.value,"---->",A.target),A}),f(this,"getActionFromDelayedTransition",r=>{const c=x("machine.after"),h=B(r.delay,this.delayMap)(this.contextSnapshot,c);let l;return{entry:()=>{l=globalThis.setTimeout(()=>{const p=this.getNextStateInfo(r,c);this.performStateChangeEffects(this.state.value,p,c)},h)},exit:()=>{globalThis.clearTimeout(l)}}}),f(this,"getDelayedEventActions",r=>{const c=this.getStateNode(r),o=x("machine.after");if(!c||!c.after)return;const h=[],l=[];if(_(c.after)){const p=this.determineTransition(c.after,o);if(!p)return;const y=this.getActionFromDelayedTransition(p);h.push(y.entry),l.push(y.exit)}else if(z(c.after))for(const p in c.after){const y=c.after[p];let v={};if(_(y)){const R=this.determineTransition(y,o);R&&(v=R)}else M(y)?v={target:y,delay:p}:v={...y,delay:p};const A=this.getActionFromDelayedTransition(v);h.push(A.entry),l.push(A.exit)}return{entries:h,exits:l}}),f(this,"executeActions",(r,c)=>{var h;const o=et(r,this.guardMap)(this.contextSnapshot,c,this.guardMeta);for(const l of D(o)){const p=M(l)?(h=this.actionMap)==null?void 0:h[l]:l;tt(M(l)&&!p,`[@zag-js/core > execute-actions] No implementation found for action: \`${l}\``),p==null||p(this.state.context,c,this.meta)}}),f(this,"executeActivities",(r,c,o)=>{var h;for(const l of c){const p=M(l)?(h=this.activityMap)==null?void 0:h[l]:l;if(!p){tt(`[@zag-js/core > execute-activity] No implementation found for activity: \`${l}\``);continue}const y=p(this.state.context,r,this.meta);if(y){const v=M(l)?l:l.name||yt();this.addActivityCleanup(o??this.state.value,v,y)}}}),f(this,"createEveryActivities",(r,c)=>{if(!r)return;const o=x("machine.every");if(_(r)){const h=D(r).find(v=>{const A=v.delay,J=B(A,this.delayMap)(this.contextSnapshot,o);return jt(v.guard,this.guardMap)(this.contextSnapshot,o,this.guardMeta)??J!=null});if(!h)return;const p=B(h.delay,this.delayMap)(this.contextSnapshot,o);c(()=>{const v=globalThis.setInterval(()=>{this.executeActions(h.actions,o)},p);return()=>{globalThis.clearInterval(v)}})}else for(const h in r){const l=r==null?void 0:r[h],y=B(h,this.delayMap)(this.contextSnapshot,o);c(()=>{const A=globalThis.setInterval(()=>{this.executeActions(l,o)},y);return()=>{globalThis.clearInterval(A)}})}}),f(this,"setEvent",r=>{this.state.previousEvent=this.state.event,this.state.event=lt(x(r))}),f(this,"performExitEffects",(r,c)=>{const o=this.state.value;if(o==="")return;const h=r?this.getStateNode(r):void 0;this.stopActivities(o);const l=et(h==null?void 0:h.exit,this.guardMap)(this.contextSnapshot,c,this.guardMeta),p=D(l),y=this.delayedEvents.get(o);y&&p.push(...y),this.executeActions(p,c),this.eventListeners.clear()}),f(this,"performEntryEffects",(r,c)=>{const o=this.getStateNode(r),h=D(o==null?void 0:o.activities);this.createEveryActivities(o==null?void 0:o.every,v=>{h.unshift(v)}),h.length>0&&this.executeActivities(c,h);const l=et(o==null?void 0:o.entry,this.guardMap)(this.contextSnapshot,c,this.guardMeta),p=D(l),y=this.getDelayedEventActions(r);o!=null&&o.after&&y&&(this.delayedEvents.set(r,y==null?void 0:y.exits),p.push(...y.entries)),this.executeActions(p,c),(o==null?void 0:o.type)==="final"&&(this.state.done=!0,this.doneListeners.forEach(v=>{v(this.stateSnapshot)}),this.stop())}),f(this,"performTransitionEffects",(r,c)=>{const o=this.determineTransition(r,c);this.executeActions(o==null?void 0:o.actions,c)}),f(this,"performStateChangeEffects",(r,c,o)=>{this.setEvent(o);const h=c.changed||c.reenter;h&&this.performExitEffects(r,o),this.performTransitionEffects(c.transition,o),this.setState(c.target),h&&this.performEntryEffects(c.target,o)}),f(this,"determineTransition",(r,c)=>{const o=ne(r,this.guardMap);return o==null?void 0:o(this.contextSnapshot,c,this.guardMeta)}),f(this,"sendParent",r=>{var o;this.parent||q("[@zag-js/core > send-parent] Cannot send event to an unknown parent");const c=x(r);(o=this.parent)==null||o.send(c)}),f(this,"log",(...r)=>{}),f(this,"send",r=>{const c=x(r);this.transition(this.state.value,c)}),f(this,"transition",(r,c)=>{var y,v;const o=M(r)?this.getStateNode(r):r==null?void 0:r.stateNode,h=x(c);if(!o&&!this.config.on){const A=this.status==="Stopped"?"[@zag-js/core > transition] Cannot transition a stopped machine":`[@zag-js/core > transition] State does not have a definition for \`state\`: ${r}, \`event\`: ${h.type}`;tt(A);return}const l=((y=o==null?void 0:o.on)==null?void 0:y[h.type])??((v=this.config.on)==null?void 0:v[h.type]),p=this.getNextStateInfo(l,h);return this.performStateChangeEffects(this.state.value,p,h),p.stateNode}),f(this,"subscribe",r=>(this.stateListeners.add(r),this.status==="Running"&&r(this.stateSnapshot),()=>{this.stateListeners.delete(r)})),f(this,"onDone",r=>(this.doneListeners.add(r),this)),f(this,"onTransition",r=>(this.stateListeners.add(r),this.status==="Running"&&r(this.stateSnapshot),this)),f(this,"onChange",r=>(this.contextListeners.add(r),this)),f(this,"onEvent",r=>(this.eventListeners.add(r),this)),this.config=mt(e),this.options=mt(n??{}),this.id=this.config.id??`machine-${yt()}`,this.guardMap=((i=this.options)==null?void 0:i.guards)??{},this.actionMap=((a=this.options)==null?void 0:a.actions)??{},this.delayMap=((u=this.options)==null?void 0:u.delays)??{},this.activityMap=((g=this.options)==null?void 0:g.activities)??{},this.sync=((m=this.options)==null?void 0:m.sync)??!1,this.state=te(this.config),this.initialContext=P(this.state.context),this.transformContext(this.state.context);const s=x("machine.created");this.executeActions((d=this.config)==null?void 0:d.created,s)}get stateSnapshot(){return O(P(this.state))}getState(){return this.stateSnapshot}get contextSnapshot(){return this.stateSnapshot.context}get self(){const e=this;return{id:this.id,send:this.send.bind(this),sendParent:this.sendParent.bind(this),sendChild:this.sendChild.bind(this),stop:this.stop.bind(this),stopChild:this.stopChild.bind(this),spawn:this.spawn.bind(this),stopActivity:this.stopActivity.bind(this),get state(){return e.stateSnapshot},get initialContext(){return e.initialContext},get initialState(){var n;return((n=e.initialState)==null?void 0:n.target)??""}}}get meta(){var e;return{state:this.stateSnapshot,guards:this.guardMap,send:this.send.bind(this),self:this.self,initialContext:this.initialContext,initialState:((e=this.initialState)==null?void 0:e.target)??"",getState:()=>this.stateSnapshot,getAction:n=>this.actionMap[n],getGuard:n=>this.guardMap[n]}}get guardMeta(){return{state:this.stateSnapshot}}get[Symbol.toStringTag](){return"Machine"}},Ke=(t,e)=>new se(t,e),ie=(...t)=>t.map(e=>{var n;return(n=e==null?void 0:e.trim)==null?void 0:n.call(e)}).filter(Boolean).join(" "),re=/^on[A-Z]/;function oe(...t){let e={};for(let n of t){for(let s in e){if(re.test(s)&&typeof e[s]=="function"&&typeof n[s]=="function"){e[s]=Ut(e[s],n[s]);continue}if(s==="className"||s==="class"){e[s]=ie(e[s],n[s]);continue}if(s==="style"){e[s]=Object.assign({},e[s]??{},n[s]??{});continue}e[s]=n[s]!==void 0?n[s]:e[s]}for(let s in n)e[s]===void 0&&(e[s]=n[s])}return e}function ce(t){return new Proxy({},{get(){return t}})}var Be=ce(t=>t),ae=typeof document<"u"?b.useLayoutEffect:b.useEffect,{use:vt}=Ft,ue=new WeakMap;function he(t,e){const n=e==null?void 0:e.sync,s=b.useRef(),i=b.useRef(),a=b.useSyncExternalStore(b.useCallback(m=>{const d=U(t,m,n);return m(),d},[t,n]),()=>{const m=P(t,vt);try{if(s.current&&i.current&&!At(s.current,m,i.current,new WeakMap))return s.current}catch{}return m},()=>P(t,vt)),u=new WeakMap;b.useEffect(()=>{s.current=a,i.current=u});const g=b.useMemo(()=>new WeakMap,[]);return xt(a,u,g,ue)}function fe(t){const e=b.useRef();return e.current||(e.current={v:t()}),e.current.v}function le(t,e){const{actions:n,state:s,context:i}=e??{},a=fe(()=>{const u=typeof t=="function"?t():t;return i?u.withContext(i):u});return ae(()=>(a.start(s),a.state.can("SETUP")&&a.send("SETUP"),()=>{a.stop()}),[]),a.setOptions({actions:n}),a.setContext(i),a}function Ge(t,e){const n=le(t,e);return[he(n.state),n.send,n]}const qe=()=>(t,e)=>e.reduce((n,s)=>{const[i,a]=n,u=s;return a[u]!==void 0&&(i[u]=a[u]),delete a[u],[i,a]},[{},{...t}]);function de(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function pe(...t){return e=>t.forEach(n=>de(n,e))}const nt=t=>{const e=b.forwardRef((n,s)=>{const{asChild:i,children:a,...u}=n;if(!i)return b.createElement(t,{...u,ref:s},a);const g=b.Children.only(a);return b.isValidElement(g)?b.cloneElement(g,{...oe(u,g.props),ref:s?pe(s,g.ref):g.ref}):null});return e.displayName=t.displayName||t.name,e},ge=()=>{const t=new Map;return new Proxy(nt,{apply(e,n,s){return nt(s[0])},get(e,n){const s=n;return t.has(s)||t.set(s,nt(s)),t.get(s)}})},Ue=ge();function Ze(t,e={}){const{sync:n=!1}=e,s=ye(t);return b.useCallback((...i)=>{var a;return n?queueMicrotask(()=>{var u;return(u=s.current)==null?void 0:u.call(s,...i)}):(a=s.current)==null?void 0:a.call(s,...i)},[n,s])}function ye(t){const e=b.useRef(t);return e.current=t,e}function me(t,e){return`${t} returned \`undefined\`. Seems you forgot to wrap component within ${e}`}function ve(t={}){const{name:e,strict:n=!0,hookName:s="useContext",providerName:i="Provider",errorMessage:a}=t,u=b.createContext(void 0);u.displayName=e;function g(){var d;const m=b.useContext(u);if(!m&&n){const r=new Error(a??me(s,i));throw r.name="ContextError",(d=Error.captureStackTrace)==null||d.call(Error,r,g),r}return m}return[u.Provider,g,u]}var st=(t,e=[])=>({parts:(...n)=>{if(Ee(e))return st(t,n);throw new Error("createAnatomy().parts(...) should only be called once. Did you mean to use .extendWith(...) ?")},extendWith:(...n)=>st(t,[...e,...n]),rename:n=>st(n,e),keys:()=>e,build:()=>[...new Set(e)].reduce((n,s)=>Object.assign(n,{[s]:{selector:[`&[data-scope="${T(t)}"][data-part="${T(s)}"]`,`& [data-scope="${T(t)}"][data-part="${T(s)}"]`].join(", "),attrs:{"data-scope":T(t),"data-part":T(s)}}}),{})}),T=t=>t.replace(/([A-Z])([A-Z])/g,"$1-$2").replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[\s_]+/g,"-").toLowerCase(),Ee=t=>t.length===0,Xe=t=>t?"":void 0,Ye=t=>t?"true":void 0,ot=t=>typeof t=="object"&&(t==null?void 0:t.nodeType)===Node.ELEMENT_NODE&&typeof(t==null?void 0:t.nodeName)=="string";function Je(t,e){return!t||!e||!ot(t)||!ot(e)?!1:t===e||t.contains(e)}var we=t=>t.nodeType===Node.DOCUMENT_NODE?t:t.ownerDocument??document;function Qe(t){const e={getRootNode:n=>{var s;return((s=n.getRootNode)==null?void 0:s.call(n))??document},getDoc:n=>we(e.getRootNode(n)),getWin:n=>e.getDoc(n).defaultView??window,getActiveElement:n=>e.getDoc(n).activeElement,isActiveElement:(n,s)=>s===e.getActiveElement(n),focus(n,s){s!=null&&(e.isActiveElement(n,s)||s.focus({preventScroll:!0}))},getById:(n,s)=>e.getRootNode(n).getElementById(s),setValue:(n,s)=>{if(n==null||s==null)return;const i=s.toString();n.value!==i&&(n.value=s.toString())}};return{...e,...t}}var Pt=t=>t.nodeType===Node.DOCUMENT_NODE,Se=t=>t.nodeType!==void 0,be=t=>t&&Se(t)&&t.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&"host"in t;function He(t){return Pt(t)?t:(t==null?void 0:t.ownerDocument)??document}function xe(t){var e;return be(t)?xe(t.host):Pt(t)?t.defaultView??window:ot(t)?((e=t.ownerDocument)==null?void 0:e.defaultView)??window:window}function tn(t){const{selectionStart:e,selectionEnd:n,value:s}=t.currentTarget;return s.slice(0,e)+t.data+s.slice(n)}function Ae(t,e){return t.find(n=>n.id===e)}function Lt(t,e){const n=Ae(t,e);return n?t.indexOf(n):-1}function en(t,e,n=!0){let s=Lt(t,e);return s=n?(s+1)%t.length:Math.min(s+1,t.length-1),t[s]}function nn(t,e,n=!0){let s=Lt(t,e);return s===-1?n?t[t.length-1]:null:(s=n?(s-1+t.length)%t.length:Math.max(0,s-1),t[s])}function sn(t){var e;return((e=t.composedPath)==null?void 0:e.call(t)[0])??t.target}function rn(t,e){return Array.from((t==null?void 0:t.querySelectorAll(e))??[])}function on(t){const e=globalThis.requestAnimationFrame(t);return()=>{globalThis.cancelAnimationFrame(e)}}var cn=(t,e,n,s)=>{const i=typeof t=="function"?t():t;return i==null||i.addEventListener(e,n,s),()=>{i==null||i.removeEventListener(e,n,s)}},an=t=>t.button===0,un=t=>t.button===2||Ce()&&t.ctrlKey&&t.button===0,hn=t=>t.ctrlKey||t.altKey||t.metaKey,Ce=()=>/Mac|iPod|iPhone|iPad/.test(window.navigator.platform);function fn(t,e,n){if(!t)return;const s=t.ownerDocument.defaultView||window,i=new s.CustomEvent(e,n);return t.dispatchEvent(i)}var Me={Up:"ArrowUp",Down:"ArrowDown",Esc:"Escape"," ":"Space",",":"Comma",Left:"ArrowLeft",Right:"ArrowRight"},Et={ArrowLeft:"ArrowRight",ArrowRight:"ArrowLeft"};function ln(t,e={}){const{dir:n="ltr",orientation:s="horizontal"}=e;let{key:i}=t;return i=Me[i]??i,n==="rtl"&&s==="horizontal"&&i in Et&&(i=Et[i]),i}function Oe(t,e="client"){const n=t.touches[0]||t.changedTouches[0];return{x:n[`${e}X`],y:n[`${e}Y`]}}function je(t,e="client"){return{x:t[`${e}X`],y:t[`${e}Y`]}}var De=t=>"touches"in t&&t.touches.length>0;function dn(t,e="client"){return De(t)?Oe(t,e):je(t,e)}function pn(t){return t.nativeEvent??t}function wt(t){return Math.max(0,Math.min(1,t))}function gn(t,e){const{left:n,top:s,width:i,height:a}=e.getBoundingClientRect(),u={x:t.x-n,y:t.y-s},g={x:wt(u.x/i),y:wt(u.y/a)};function m(d={}){const{dir:r="ltr",orientation:c="horizontal",inverted:o}=d,h=typeof o=="object"?o.x:o,l=typeof o=="object"?o.y:o;return c==="horizontal"?r==="rtl"||h?1-g.x:g.x:l?1-g.y:g.y}return{offset:u,percent:g,getPercentValue:m}}var yn=(t,e)=>t.filter((n,s)=>s!==e),mn=(t,e)=>{if(Object.is(t,e))return!0;if(!(t instanceof Object)||!(e instanceof Object))return!1;const n=Object.keys(t),s=n.length;for(let i=0;i<s;i++)if(!(n[i]in e))return!1;for(let i=0;i<s;i++)if(t[n[i]]!==e[n[i]])return!1;return s===Object.keys(e).length},vn=(...t)=>(...e)=>{t.forEach(function(n){n==null||n(...e)})};function Pe(t){if(!Le(t)||t===void 0)return t;const e=Reflect.ownKeys(t).filter(s=>typeof s=="string"),n={};for(const s of e){const i=t[s];i!==void 0&&(n[s]=Pe(i))}return n}var Le=t=>t&&typeof t=="object"&&t.constructor===Object;function En(...t){const e=t.length===1?t[0]:t[1],n=t.length===2?t[0]:!0}function wn(...t){const e=t.length===1?t[0]:t[1],n=t.length===2?t[0]:!0}const[Sn,bn]=ve({name:"EnvironmentContext",hookName:"useEnvironmentContext",providerName:"<EnvironmentProvider />",strict:!1});function Re(t,e,n){if(!t)return;const s=t.ownerDocument.defaultView||window,i=new s.MutationObserver(a=>{for(const u of a)u.type==="attributes"&&u.attributeName&&e.includes(u.attributeName)&&n(u)});return i.observe(t,{attributes:!0,attributeFilter:e}),()=>i.disconnect()}var Rt=t=>t.ownerDocument.defaultView||window;function Ne(t,e){const{type:n="HTMLInputElement",property:s="value"}=e,i=Rt(t)[n].prototype;return Object.getOwnPropertyDescriptor(i,s)??{}}function Te(t,e,n={}){var i;(i=Ne(t,n).set)==null||i.call(t,e)}function xn(t,e){const{value:n,bubbles:s=!0}=e;if(!t)return;const i=Rt(t);t instanceof i.HTMLInputElement&&(Te(t,`${n}`),t.dispatchEvent(new i.Event("input",{bubbles:s})))}function Fe(t){return $e(t)?t.form:t.closest("form")}function $e(t){return t.matches("textarea, input, select, button")}function ke(t,e){if(!t)return;const n=Fe(t);return n==null||n.addEventListener("reset",e,{passive:!0}),()=>{n==null||n.removeEventListener("reset",e)}}function We(t,e){const n=t==null?void 0:t.closest("fieldset");if(n)return e(n.disabled),Re(n,["disabled"],()=>e(n.disabled))}function An(t,e){if(!t)return;const{onFieldsetDisabledChange:n,onFormReset:s}=e,i=[ke(t,s),We(t,n)];return()=>{i.forEach(a=>a==null?void 0:a())}}export{gn as A,An as B,He as C,xe as D,cn as E,fn as F,sn as G,ot as H,Je as I,un as J,vn as K,nn as L,en as M,Lt as N,Ie as O,yn as P,En as Q,Qe as a,Ye as b,st as c,Xe as d,pn as e,hn as f,tn as g,ln as h,wn as i,Pe as j,Ke as k,Ve as l,mn as m,xn as n,ve as o,Ze as p,rn as q,on as r,Ge as s,Be as t,bn as u,qe as v,oe as w,Ue as x,an as y,dn as z};
