import{r as x,R as _t}from"./index-4g5l5LRQ.js";import"./index-jmm5gWkb.js";import"./clsx-UwsAJbxu.js";const Kt=Symbol(),ct=Symbol(),k="a",B="w";let zt=(t,e)=>new Proxy(t,e);const rt=Object.getPrototypeOf,it=new WeakMap,At=t=>t&&(it.has(t)?it.get(t):rt(t)===Object.prototype||rt(t)===Array.prototype),ft=t=>typeof t=="object"&&t!==null,It=t=>{if(Array.isArray(t))return Array.from(t);const e=Object.getOwnPropertyDescriptors(t);return Object.values(e).forEach(n=>{n.configurable=!0}),Object.create(rt(t),e)},bt=t=>t[ct]||t,Ct=(t,e,n,s)=>{if(!At(t))return t;let r=s&&s.get(t);if(!r){const w=bt(t);r=(y=>Object.values(Object.getOwnPropertyDescriptors(y)).some(i=>!i.configurable&&!i.writable))(w)?[w,It(w)]:[w],s==null||s.set(t,r)}const[a,f]=r;let p=n&&n.get(a);return p&&p[1].f===!!f||(p=((w,y)=>{const i={f:y};let c=!1;const o=(h,d)=>{if(!c){let g=i[k].get(w);if(g||(g={},i[k].set(w,g)),h===B)g[B]=!0;else{let m=g[h];m||(m=new Set,g[h]=m),m.add(d)}}},u={get:(h,d)=>d===ct?w:(o("k",d),Ct(Reflect.get(h,d),i[k],i.c,i.t)),has:(h,d)=>d===Kt?(c=!0,i[k].delete(w),!0):(o("h",d),Reflect.has(h,d)),getOwnPropertyDescriptor:(h,d)=>(o("o",d),Reflect.getOwnPropertyDescriptor(h,d)),ownKeys:h=>(o(B),Reflect.ownKeys(h))};return y&&(u.set=u.deleteProperty=()=>!1),[u,i]})(a,!!f),p[1].p=zt(f||a,p[0]),n&&n.set(a,p)),p[1][k]=e,p[1].c=n,p[1].t=s,p[1].p},Ot=(t,e,n,s)=>{if(Object.is(t,e))return!1;if(!ft(t)||!ft(e))return!0;const r=n.get(bt(t));if(!r)return!0;if(s){const f=s.get(t);if(f&&f.n===e)return f.g;s.set(t,{n:e,g:!1})}let a=null;try{for(const f of r.h||[])if(a=Reflect.has(t,f)!==Reflect.has(e,f),a)return a;if(r[B]===!0){if(a=((f,p)=>{const w=Reflect.ownKeys(f),y=Reflect.ownKeys(p);return w.length!==y.length||w.some((i,c)=>i!==y[c])})(t,e),a)return a}else for(const f of r.o||[])if(a=!!Reflect.getOwnPropertyDescriptor(t,f)!=!!Reflect.getOwnPropertyDescriptor(e,f),a)return a;for(const f of r.k||[])if(a=Ot(t[f],e[f],n,s),a)return a;return a===null&&(a=!0),a}finally{s&&s.set(t,{n:e,g:a})}},Vt=t=>At(t)&&t[ct]||null,ht=(t,e=!0)=>{it.set(t,e)};var Q=t=>typeof t=="object"&&t!==null,P=new WeakMap,W=new WeakSet,qt=(t=Object.is,e=(y,i)=>new Proxy(y,i),n=y=>Q(y)&&!W.has(y)&&(Array.isArray(y)||!(Symbol.iterator in y))&&!(y instanceof WeakMap)&&!(y instanceof WeakSet)&&!(y instanceof Error)&&!(y instanceof Number)&&!(y instanceof Date)&&!(y instanceof String)&&!(y instanceof RegExp)&&!(y instanceof ArrayBuffer),s=y=>{switch(y.status){case"fulfilled":return y.value;case"rejected":throw y.reason;default:throw y}},r=new WeakMap,a=(y,i,c=s)=>{const o=r.get(y);if((o==null?void 0:o[0])===i)return o[1];const u=Array.isArray(y)?[]:Object.create(Object.getPrototypeOf(y));return ht(u,!0),r.set(y,[i,u]),Reflect.ownKeys(y).forEach(h=>{const d=Reflect.get(y,h);W.has(d)?(ht(d,!1),u[h]=d):d instanceof Promise?Object.defineProperty(u,h,{get(){return c(d)}}):P.has(d)?u[h]=D(d,c):u[h]=d}),Object.freeze(u)},f=new WeakMap,p=[1,1],w=y=>{if(!Q(y))throw new Error("object required");const i=f.get(y);if(i)return i;let c=p[0];const o=new Set,u=(S,E=++p[0])=>{c!==E&&(c=E,o.forEach(v=>v(S,E)))};let h=p[1];const d=(S=++p[1])=>(h!==S&&!o.size&&(h=S,m.forEach(([E])=>{const v=E[1](S);v>c&&(c=v)})),c),g=S=>(E,v)=>{const C=[...E];C[1]=[S,...C[1]],u(C,v)},m=new Map,b=(S,E)=>{if(o.size){const v=E[3](g(S));m.set(S,[E,v])}else m.set(S,[E])},R=S=>{var v;const E=m.get(S);E&&(m.delete(S),(v=E[1])==null||v.call(E))},J=S=>(o.add(S),o.size===1&&m.forEach(([v,C],N)=>{const F=v[3](g(N));m.set(N,[v,F])}),()=>{o.delete(S),o.size===0&&m.forEach(([v,C],N)=>{C&&(C(),m.set(N,[v]))})}),z=Array.isArray(y)?[]:Object.create(Object.getPrototypeOf(y)),I=e(z,{deleteProperty(S,E){const v=Reflect.get(S,E);R(E);const C=Reflect.deleteProperty(S,E);return C&&u(["delete",[E],v]),C},set(S,E,v,C){var ut;const N=Reflect.has(S,E),F=Reflect.get(S,E,C);if(N&&(t(F,v)||f.has(v)&&t(F,f.get(v))))return!0;R(E),Q(v)&&(v=Vt(v)||v);let V=v;if(!((ut=Object.getOwnPropertyDescriptor(S,E))!=null&&ut.set))if(v instanceof Promise)v.then(j=>{v.status="fulfilled",v.value=j,u(["resolve",[E],j])}).catch(j=>{v.status="rejected",v.reason=j,u(["reject",[E],j])});else{!P.has(v)&&n(v)&&(V=at(v));const j=!W.has(V)&&P.get(V);j&&b(E,j)}return Reflect.set(S,E,V,C),u(["set",[E],v,F]),!0}});f.set(y,I);const Wt=[z,d,a,J];return P.set(I,Wt),Reflect.ownKeys(y).forEach(S=>{const E=Object.getOwnPropertyDescriptor(y,S);E.get||E.set?Object.defineProperty(z,S,E):I[S]=y[S]}),I})=>[w,P,W,t,e,n,s,r,a,f,p],[Bt]=qt();function at(t={}){return Bt(t)}function U(t,e,n){const s=P.get(t);let r;const a=[],f=s[3];let p=!1;const y=f(i=>{if(a.push(i),n){e(a.splice(0));return}r||(r=Promise.resolve().then(()=>{r=void 0,p&&e(a.splice(0))}))});return p=!0,()=>{p=!1,y()}}function D(t,e){const n=P.get(t),[s,r,a]=n;return a(s,r(),e)}function lt(t){return W.add(t),t}function Gt(t,e){Object.keys(e).forEach(r=>{if(Object.getOwnPropertyDescriptor(t,r))throw new Error("object property already defined");const a=e[r],{get:f,set:p}=typeof a=="function"?{get:a}:a,w={};w.get=()=>f(D(s)),p&&(w.set=y=>p(s,y)),Object.defineProperty(t,r,w)});const s=at(t);return s}var Ut=(t,e)=>Object.is(t,e);function dt(t,e,n,s,r){let a=Reflect.get(D(t),e);const f=r||Ut;function p(){const w=D(t);f(a,w[e])||(n(w[e]),a=Reflect.get(w,e))}return U(t,p,s)}function pt(t,e,n){typeof n.value=="object"&&(n.value=$(n.value)),!n.enumerable||n.get||n.set||!n.configurable||!n.writable||e==="__proto__"?Object.defineProperty(t,e,n):t[e]=n.value}function $(t){if(typeof t!="object")return t;var e=0,n,s,r,a=Object.prototype.toString.call(t);if(a==="[object Object]"?r=Object.create(t.__proto__||null):a==="[object Array]"?r=Array(t.length):a==="[object Set]"?(r=new Set,t.forEach(function(f){r.add($(f))})):a==="[object Map]"?(r=new Map,t.forEach(function(f,p){r.set($(p),$(f))})):a==="[object Date]"?r=new Date(+t):a==="[object RegExp]"?r=new RegExp(t.source,t.flags):a==="[object DataView]"?r=new t.constructor($(t.buffer)):a==="[object ArrayBuffer]"?r=t.slice(0):a.slice(-6)==="Array]"&&(r=new t.constructor(t)),r){for(s=Object.getOwnPropertySymbols(t);e<s.length;e++)pt(r,s[e],Object.getOwnPropertyDescriptor(t,s[e]));for(e=0,s=Object.getOwnPropertyNames(t);e<s.length;e++)Object.hasOwnProperty.call(r,n=s[e])&&r[n]===t[n]||pt(r,n,Object.getOwnPropertyDescriptor(t,n))}return r||t}var Zt=Object.defineProperty,Xt=(t,e,n)=>e in t?Zt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,l=(t,e,n)=>(Xt(t,typeof e!="symbol"?e+"":e,n),n);function Yt(t){for(;t.length>0;)t.pop();return t}var yt=(t,...e)=>(typeof t=="function"?t(...e):t)??void 0,M=t=>t,H=()=>{},Jt=(...t)=>(...e)=>{t.forEach(function(n){n==null||n(...e)})},gt=(()=>{let t=0;return()=>(t++,t.toString(36))})(),_=t=>Array.isArray(t),K=t=>!(t==null||typeof t!="object"||_(t)),Qt=t=>typeof t=="number"&&!Number.isNaN(t),O=t=>typeof t=="string",Z=t=>typeof t=="function";function X(t){if(!Ht(t)||t===void 0)return t;const e=Reflect.ownKeys(t).filter(s=>typeof s=="string"),n={};for(const s of e){const r=t[s];r!==void 0&&(n[s]=X(r))}return n}var Ht=t=>t&&typeof t=="object"&&t.constructor===Object;function tt(...t){const e=t.length===1?t[0]:t[1],n=t.length===2?t[0]:!0}function G(...t){const e=t.length===1?t[0]:t[1],n=t.length===2?t[0]:!0}function Mt(t,...e){for(const n of e){const s=X(n);for(const r in s)K(n[r])?(t[r]||(t[r]={}),Mt(t[r],n[r])):t[r]=n[r]}return t}function mt(t){return $(t)}function A(t){return O(t)?{type:t}:t}function L(t){return t?_(t)?t.slice():[t]:[]}function jt(t){return K(t)&&t.predicate!=null}var Lt=()=>!0;function Y(t,e,n,s){return r=>{var a;return O(r)?!!((a=t[r])!=null&&a.call(t,e,n,s)):Z(r)?r(e,n,s):r.predicate(t)(e,n,s)}}function te(...t){return{predicate:e=>(n,s,r)=>t.map(Y(e,n,s,r)).some(Boolean)}}function ee(...t){return{predicate:e=>(n,s,r)=>t.map(Y(e,n,s,r)).every(Boolean)}}function ne(t){return{predicate:e=>(n,s,r)=>!Y(e,n,s,r)(t)}}function se(...t){return(e,n,s)=>s.state.matches(...t)}var Xe={or:te,and:ee,not:ne,stateIn:se};function Ye(t){return{predicate:e=>(n,s,r)=>{var a;return(a=t.find(f=>{const p=f.guard??Lt;return Y(e,n,s,r)(p)}))==null?void 0:a.actions}}}function Dt(t,e){return t=t??Lt,(n,s,r)=>{if(O(t)){const a=e[t];return Z(a)?a(n,s,r):a}return jt(t)?t.predicate(e)(n,s,r):t==null?void 0:t(n,s,r)}}function et(t,e){return(n,s,r)=>jt(t)?t.predicate(e)(n,s,r):t}function re(t){const e=t.computed??M({}),n=t.context??M({}),s=at({value:t.initial??"",previousValue:"",event:M({}),previousEvent:M({}),context:Gt(n,e),done:!1,tags:[],hasTag(r){return this.tags.includes(r)},matches(...r){return r.includes(this.value)},can(r){return M(this).nextEvents.includes(r)},get nextEvents(){var f,p;const r=((p=(f=t.states)==null?void 0:f[this.value])==null?void 0:p.on)??{},a=(t==null?void 0:t.on)??{};return Object.keys({...r,...a})},get changed(){return this.event.value==="machine.init"||!this.previousValue?!1:this.value!==this.previousValue}});return M(s)}function q(t,e){return(n,s)=>{if(Qt(t))return t;if(Z(t))return t(n,s);if(O(t)){const r=Number.parseFloat(t);if(!Number.isNaN(r))return r;if(e){const a=e==null?void 0:e[t];return G(a==null,`[@zag-js/core > determine-delay] Cannot determine delay for \`${t}\`. It doesn't exist in \`options.delays\``),Z(a)?a(n,s):a}}}}function ie(t){return O(t)?{target:t}:t}function oe(t,e){return(n,s,r)=>L(t).map(ie).find(a=>Dt(a.guard,e)(n,s,r)??a.target??a.actions)}var ce=class Pt{constructor(e,n){var r,a,f,p,w,y;l(this,"status","Not Started"),l(this,"state"),l(this,"initialState"),l(this,"initialContext"),l(this,"id"),l(this,"type","machine"),l(this,"activityEvents",new Map),l(this,"delayedEvents",new Map),l(this,"stateListeners",new Set),l(this,"contextListeners",new Set),l(this,"eventListeners",new Set),l(this,"doneListeners",new Set),l(this,"contextWatchers",new Set),l(this,"removeStateListener",H),l(this,"removeEventListener",H),l(this,"removeContextListener",H),l(this,"parent"),l(this,"children",new Map),l(this,"guardMap"),l(this,"actionMap"),l(this,"delayMap"),l(this,"activityMap"),l(this,"sync"),l(this,"options"),l(this,"config"),l(this,"start",i=>{if(this.state.value="",this.status==="Running")return this;this.status="Running",this.removeStateListener=U(this.state,()=>{this.stateListeners.forEach(g=>{g(this.stateSnapshot)})},this.sync),this.removeEventListener=dt(this.state,"event",g=>{this.executeActions(this.config.onEvent,g),this.eventListeners.forEach(m=>{m(g)})},this.sync),this.removeContextListener=U(this.state.context,()=>{this.log("Context:",this.contextSnapshot),this.contextListeners.forEach(g=>{g(this.contextSnapshot)})},this.sync||this.options.debug),this.setupContextWatchers(),this.executeActivities(A("machine.start"),L(this.config.activities),"machine.start"),this.executeActions(this.config.entry,A("machine.start"));const c=A("machine.init"),o=K(i)?i.value:i,u=K(i)?i.context:void 0;u&&this.setContext(u);const h={target:o??this.config.initial},d=this.getNextStateInfo(h,c);return this.initialState=d,this.performStateChangeEffects(this.state.value,d,c),this}),l(this,"setupContextWatchers",()=>{var i;for(const[c,o]of Object.entries(this.config.watch??{})){const u=(i=this.options.compareFns)==null?void 0:i[c],h=dt(this.state.context,c,()=>{this.executeActions(o,this.state.event)},this.sync,u);this.contextWatchers.add(h)}}),l(this,"stop",()=>{if(this.status!=="Stopped")return this.performExitEffects(this.state.value,A("machine.stop")),this.executeActions(this.config.exit,A("machine.stop")),this.setState(""),this.setEvent("machine.stop"),this.stopStateListeners(),this.stopChildren(),this.stopActivities(),this.stopDelayedEvents(),this.stopContextWatchers(),this.stopEventListeners(),this.stopContextListeners(),this.status="Stopped",this}),l(this,"stopEventListeners",()=>{this.eventListeners.clear(),this.removeEventListener()}),l(this,"stopContextListeners",()=>{this.contextListeners.clear(),this.removeContextListener()}),l(this,"stopStateListeners",()=>{this.removeStateListener(),this.stateListeners.clear()}),l(this,"stopContextWatchers",()=>{this.contextWatchers.forEach(i=>i()),this.contextWatchers.clear()}),l(this,"stopDelayedEvents",()=>{this.delayedEvents.forEach(i=>{i.forEach(c=>c())}),this.delayedEvents.clear()}),l(this,"stopActivities",i=>{var c,o;i?((c=this.activityEvents.get(i))==null||c.forEach(u=>u()),(o=this.activityEvents.get(i))==null||o.clear(),this.activityEvents.delete(i)):(this.activityEvents.forEach(u=>{u.forEach(h=>h()),u.clear()}),this.activityEvents.clear())}),l(this,"sendChild",(i,c)=>{const o=A(i),u=yt(c,this.contextSnapshot),h=this.children.get(u);h||G(`[@zag-js/core] Cannot send '${o.type}' event to unknown child`),h.send(o)}),l(this,"stopChild",i=>{this.children.has(i)||G(`[@zag-js/core > stop-child] Cannot stop unknown child ${i}`),this.children.get(i).stop(),this.children.delete(i)}),l(this,"removeChild",i=>{this.children.delete(i)}),l(this,"stopChildren",()=>{this.children.forEach(i=>i.stop()),this.children.clear()}),l(this,"setParent",i=>{this.parent=i}),l(this,"spawn",(i,c)=>{const o=yt(i);return c&&(o.id=c),o.type="machine.actor",o.setParent(this),this.children.set(o.id,M(o)),o.onDone(()=>{this.removeChild(o.id)}).start(),M(lt(o))}),l(this,"stopActivity",i=>{var o;if(!this.state.value)return;const c=this.activityEvents.get(this.state.value);(o=c==null?void 0:c.get(i))==null||o(),c==null||c.delete(i)}),l(this,"addActivityCleanup",(i,c,o)=>{var u;i&&(this.activityEvents.has(i)?(u=this.activityEvents.get(i))==null||u.set(c,o):this.activityEvents.set(i,new Map([[c,o]])))}),l(this,"setState",i=>{this.state.previousValue=this.state.value,this.state.value=i;const c=this.getStateNode(i);i==null?Yt(this.state.tags):this.state.tags=L(c==null?void 0:c.tags)}),l(this,"transformContext",i=>{var c,o;return(o=(c=this.options)==null?void 0:c.transformContext)==null||o.call(c,i),i}),l(this,"setContext",i=>{i&&Mt(this.state.context,this.transformContext(i))}),l(this,"withContext",i=>{const c=this.transformContext(i),o={...this.config.context,...X(c)};return new Pt({...this.config,context:o},this.options)}),l(this,"setOptions",i=>{const c=X(i);this.actionMap={...this.actionMap,...c.actions},this.delayMap={...this.delayMap,...c.delays},this.activityMap={...this.activityMap,...c.activities},this.guardMap={...this.guardMap,...c.guards}}),l(this,"getStateNode",i=>{var c;if(i)return(c=this.config.states)==null?void 0:c[i]}),l(this,"getNextStateInfo",(i,c)=>{const o=this.determineTransition(i,c),u=!(o!=null&&o.target),h=(o==null?void 0:o.target)??this.state.value,d=this.state.value!==h,g=this.getStateNode(h),b={reenter:!u&&!d&&!(o!=null&&o.internal),transition:o,stateNode:g,target:h,changed:d};return this.log("NextState:",`[${c.type}]`,this.state.value,"---->",b.target),b}),l(this,"getActionFromDelayedTransition",i=>{const c=A("machine.after"),u=q(i.delay,this.delayMap)(this.contextSnapshot,c);let h;return{entry:()=>{h=globalThis.setTimeout(()=>{const d=this.getNextStateInfo(i,c);this.performStateChangeEffects(this.state.value,d,c)},u)},exit:()=>{globalThis.clearTimeout(h)}}}),l(this,"getDelayedEventActions",i=>{const c=this.getStateNode(i),o=A("machine.after");if(!c||!c.after)return;const u=[],h=[];if(_(c.after)){const d=this.determineTransition(c.after,o);if(!d)return;const g=this.getActionFromDelayedTransition(d);u.push(g.entry),h.push(g.exit)}else if(K(c.after))for(const d in c.after){const g=c.after[d];let m={};if(_(g)){const R=this.determineTransition(g,o);R&&(m=R)}else O(g)?m={target:g,delay:d}:m={...g,delay:d};const b=this.getActionFromDelayedTransition(m);u.push(b.entry),h.push(b.exit)}return{entries:u,exits:h}}),l(this,"executeActions",(i,c)=>{var u;const o=et(i,this.guardMap)(this.contextSnapshot,c,this.guardMeta);for(const h of L(o)){const d=O(h)?(u=this.actionMap)==null?void 0:u[h]:h;tt(O(h)&&!d,`[@zag-js/core > execute-actions] No implementation found for action: \`${h}\``),d==null||d(this.state.context,c,this.meta)}}),l(this,"executeActivities",(i,c,o)=>{var u;for(const h of c){const d=O(h)?(u=this.activityMap)==null?void 0:u[h]:h;if(!d){tt(`[@zag-js/core > execute-activity] No implementation found for activity: \`${h}\``);continue}const g=d(this.state.context,i,this.meta);if(g){const m=O(h)?h:h.name||gt();this.addActivityCleanup(o??this.state.value,m,g)}}}),l(this,"createEveryActivities",(i,c)=>{if(!i)return;const o=A("machine.every");if(_(i)){const u=L(i).find(m=>{const b=m.delay,J=q(b,this.delayMap)(this.contextSnapshot,o);return Dt(m.guard,this.guardMap)(this.contextSnapshot,o,this.guardMeta)??J!=null});if(!u)return;const d=q(u.delay,this.delayMap)(this.contextSnapshot,o);c(()=>{const m=globalThis.setInterval(()=>{this.executeActions(u.actions,o)},d);return()=>{globalThis.clearInterval(m)}})}else for(const u in i){const h=i==null?void 0:i[u],g=q(u,this.delayMap)(this.contextSnapshot,o);c(()=>{const b=globalThis.setInterval(()=>{this.executeActions(h,o)},g);return()=>{globalThis.clearInterval(b)}})}}),l(this,"setEvent",i=>{this.state.previousEvent=this.state.event,this.state.event=lt(A(i))}),l(this,"performExitEffects",(i,c)=>{const o=this.state.value;if(o==="")return;const u=i?this.getStateNode(i):void 0;this.stopActivities(o);const h=et(u==null?void 0:u.exit,this.guardMap)(this.contextSnapshot,c,this.guardMeta),d=L(h),g=this.delayedEvents.get(o);g&&d.push(...g),this.executeActions(d,c),this.eventListeners.clear()}),l(this,"performEntryEffects",(i,c)=>{const o=this.getStateNode(i),u=L(o==null?void 0:o.activities);this.createEveryActivities(o==null?void 0:o.every,m=>{u.unshift(m)}),u.length>0&&this.executeActivities(c,u);const h=et(o==null?void 0:o.entry,this.guardMap)(this.contextSnapshot,c,this.guardMeta),d=L(h),g=this.getDelayedEventActions(i);o!=null&&o.after&&g&&(this.delayedEvents.set(i,g==null?void 0:g.exits),d.push(...g.entries)),this.executeActions(d,c),(o==null?void 0:o.type)==="final"&&(this.state.done=!0,this.doneListeners.forEach(m=>{m(this.stateSnapshot)}),this.stop())}),l(this,"performTransitionEffects",(i,c)=>{const o=this.determineTransition(i,c);this.executeActions(o==null?void 0:o.actions,c)}),l(this,"performStateChangeEffects",(i,c,o)=>{this.setEvent(o);const u=c.changed||c.reenter;u&&this.performExitEffects(i,o),this.performTransitionEffects(c.transition,o),this.setState(c.target),u&&this.performEntryEffects(c.target,o)}),l(this,"determineTransition",(i,c)=>{const o=oe(i,this.guardMap);return o==null?void 0:o(this.contextSnapshot,c,this.guardMeta)}),l(this,"sendParent",i=>{var o;this.parent||G("[@zag-js/core > send-parent] Cannot send event to an unknown parent");const c=A(i);(o=this.parent)==null||o.send(c)}),l(this,"log",(...i)=>{}),l(this,"send",i=>{const c=A(i);this.transition(this.state.value,c)}),l(this,"transition",(i,c)=>{var g,m;const o=O(i)?this.getStateNode(i):i==null?void 0:i.stateNode,u=A(c);if(!o&&!this.config.on){const b=this.status==="Stopped"?"[@zag-js/core > transition] Cannot transition a stopped machine":`[@zag-js/core > transition] State does not have a definition for \`state\`: ${i}, \`event\`: ${u.type}`;tt(b);return}const h=((g=o==null?void 0:o.on)==null?void 0:g[u.type])??((m=this.config.on)==null?void 0:m[u.type]),d=this.getNextStateInfo(h,u);return this.performStateChangeEffects(this.state.value,d,u),d.stateNode}),l(this,"subscribe",i=>(this.stateListeners.add(i),this.status==="Running"&&i(this.stateSnapshot),()=>{this.stateListeners.delete(i)})),l(this,"onDone",i=>(this.doneListeners.add(i),this)),l(this,"onTransition",i=>(this.stateListeners.add(i),this.status==="Running"&&i(this.stateSnapshot),this)),l(this,"onChange",i=>(this.contextListeners.add(i),this)),l(this,"onEvent",i=>(this.eventListeners.add(i),this)),this.config=mt(e),this.options=mt(n??{}),this.id=this.config.id??`machine-${gt()}`,this.guardMap=((r=this.options)==null?void 0:r.guards)??{},this.actionMap=((a=this.options)==null?void 0:a.actions)??{},this.delayMap=((f=this.options)==null?void 0:f.delays)??{},this.activityMap=((p=this.options)==null?void 0:p.activities)??{},this.sync=((w=this.options)==null?void 0:w.sync)??!1,this.state=re(this.config),this.initialContext=D(this.state.context),this.transformContext(this.state.context);const s=A("machine.created");this.executeActions((y=this.config)==null?void 0:y.created,s)}get stateSnapshot(){return M(D(this.state))}getState(){return this.stateSnapshot}get contextSnapshot(){return this.stateSnapshot.context}get self(){const e=this;return{id:this.id,send:this.send.bind(this),sendParent:this.sendParent.bind(this),sendChild:this.sendChild.bind(this),stop:this.stop.bind(this),stopChild:this.stopChild.bind(this),spawn:this.spawn.bind(this),stopActivity:this.stopActivity.bind(this),get state(){return e.stateSnapshot},get initialContext(){return e.initialContext},get initialState(){var n;return((n=e.initialState)==null?void 0:n.target)??""}}}get meta(){var e;return{state:this.stateSnapshot,guards:this.guardMap,send:this.send.bind(this),self:this.self,initialContext:this.initialContext,initialState:((e=this.initialState)==null?void 0:e.target)??"",getState:()=>this.stateSnapshot,getAction:n=>this.actionMap[n],getGuard:n=>this.guardMap[n]}}get guardMeta(){return{state:this.stateSnapshot}}get[Symbol.toStringTag](){return"Machine"}},Je=(t,e)=>new ce(t,e),ae=(...t)=>t.map(e=>{var n;return(n=e==null?void 0:e.trim)==null?void 0:n.call(e)}).filter(Boolean).join(" "),ue=/^on[A-Z]/;function fe(...t){let e={};for(let n of t){for(let s in e){if(ue.test(s)&&typeof e[s]=="function"&&typeof n[s]=="function"){e[s]=Jt(e[s],n[s]);continue}if(s==="className"||s==="class"){e[s]=ae(e[s],n[s]);continue}if(s==="style"){e[s]=Object.assign({},e[s]??{},n[s]??{});continue}e[s]=n[s]!==void 0?n[s]:e[s]}for(let s in n)e[s]===void 0&&(e[s]=n[s])}return e}function he(t){return new Proxy({},{get(){return t}})}var Qe=he(t=>t),le=typeof document<"u"?x.useLayoutEffect:x.useEffect,vt=t=>(t==null?void 0:t.constructor.name)==="Array",Rt=(t,e)=>{if(Object.is(t,e))return!0;if(t==null&&e!=null||t!=null&&e==null)return!1;if(typeof(t==null?void 0:t.isEqual)=="function"&&typeof(e==null?void 0:e.isEqual)=="function")return t.isEqual(e);if(typeof t=="function"&&typeof e=="function")return t.toString()===e.toString();if(vt(t)&&vt(e))return Array.from(t).toString()===Array.from(e).toString();if(typeof t!="object"||typeof e!="object")return!1;const n=Object.keys(e??Object.create(null)),s=n.length;for(let r=0;r<s;r++)if(!Reflect.has(t,n[r]))return!1;for(let r=0;r<s;r++){const a=n[r];if(!Rt(t[a],e[a]))return!1}return!0};function Nt(t){if(!de(t)||t===void 0)return t;const e=Reflect.ownKeys(t).filter(s=>typeof s=="string"),n={};for(const s of e){const r=t[s];r!==void 0&&(n[s]=Nt(r))}return n}var de=t=>t&&typeof t=="object"&&t.constructor===Object;function pe(t,e){const n=x.useRef(!1),s=x.useRef(!1);x.useEffect(()=>{if(n.current&&s.current)return t();s.current=!0},e),x.useEffect(()=>(n.current=!0,()=>{n.current=!1}),[])}var{use:Et}=_t,ye=new WeakMap;function ge(t,e){const{actions:n,context:s,sync:r}=e??{},a=x.useRef(),f=x.useRef(),p=x.useSyncExternalStore(x.useCallback(c=>U(t.state,c,r),[r]),()=>{const c=D(t.state,Et);try{if(a.current&&f.current&&!Ot(a.current,c,f.current,new WeakMap))return a.current}catch{}return c},()=>D(t.state,Et));t.setOptions({actions:n});const w=x.useMemo(()=>Nt(s??{}),[s]);pe(()=>{Object.entries(w).map(([h,d])=>({key:h,curr:d,prev:p.context[h],equal:Rt(p.context[h],d)})).every(({equal:h})=>h)||t.setContext(w)},[w]);const y=new WeakMap;x.useEffect(()=>{a.current=p,f.current=y});const i=x.useMemo(()=>new WeakMap,[]);return Ct(p,y,i,ye)}function me(t){const e=x.useRef();return e.current||(e.current={v:t()}),e.current.v}function ve(t,e){const{state:n,context:s}=e??{},r=me(()=>{const a=typeof t=="function"?t():t;return s?a.withContext(s):a});return le(()=>(r.start(n),()=>{r.stop()}),[]),r}function He(t,e){const n=ve(t,e);return[ge(n,e),n.send,n]}const tn=()=>(t,e)=>e.reduce((n,s)=>{const[r,a]=n,f=s;return a[f]!==void 0&&(r[f]=a[f]),delete a[f],[r,a]},[{},{...t}]);function Ee(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function we(...t){return e=>t.forEach(n=>Ee(n,e))}const nt=t=>{const e=x.forwardRef((n,s)=>{const{asChild:r,children:a,...f}=n;if(!r)return x.createElement(t,{...f,ref:s},a);const p=x.Children.only(a);return x.isValidElement(p)?x.cloneElement(p,{...fe(f,p.props),ref:s?we(s,p.ref):p.ref}):null});return e.displayName=t.displayName||t.name,e},Se=()=>{const t=new Map;return new Proxy(nt,{apply(e,n,s){return nt(s[0])},get(e,n){const s=n;return t.has(s)||t.set(s,nt(s)),t.get(s)}})},en=Se();function nn(t,e={}){const{sync:n=!1}=e,s=xe(t);return x.useCallback((...r)=>{var a;return n?queueMicrotask(()=>{var f;return(f=s.current)==null?void 0:f.call(s,...r)}):(a=s.current)==null?void 0:a.call(s,...r)},[n,s])}function xe(t){const e=x.useRef(t);return e.current=t,e}function Ae(t,e){return`${t} returned \`undefined\`. Seems you forgot to wrap component within ${e}`}function be(t={}){const{name:e,strict:n=!0,hookName:s="useContext",providerName:r="Provider",errorMessage:a}=t,f=x.createContext(void 0);f.displayName=e;function p(){var y;const w=x.useContext(f);if(!w&&n){const i=new Error(a??Ae(s,r));throw i.name="ContextError",(y=Error.captureStackTrace)==null||y.call(Error,i,p),i}return w}return[f.Provider,p,f]}var st=(t,e=[])=>({parts:(...n)=>{if(Ce(e))return st(t,n);throw new Error("createAnatomy().parts(...) should only be called once. Did you mean to use .extendWith(...) ?")},extendWith:(...n)=>st(t,[...e,...n]),rename:n=>st(n,e),keys:()=>e,build:()=>[...new Set(e)].reduce((n,s)=>Object.assign(n,{[s]:{selector:[`&[data-scope="${T(t)}"][data-part="${T(s)}"]`,`& [data-scope="${T(t)}"][data-part="${T(s)}"]`].join(", "),attrs:{"data-scope":T(t),"data-part":T(s)}}}),{})}),T=t=>t.replace(/([A-Z])([A-Z])/g,"$1-$2").replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[\s_]+/g,"-").toLowerCase(),Ce=t=>t.length===0,sn=t=>t?"":void 0,rn=t=>t?"true":void 0,ot=t=>typeof t=="object"&&(t==null?void 0:t.nodeType)===Node.ELEMENT_NODE&&typeof(t==null?void 0:t.nodeName)=="string";function on(t,e){return!t||!e||!ot(t)||!ot(e)?!1:t===e||t.contains(e)}var Oe=t=>t.nodeType===Node.DOCUMENT_NODE?t:t.ownerDocument??document;function cn(t){const e={getRootNode:n=>{var s;return((s=n.getRootNode)==null?void 0:s.call(n))??document},getDoc:n=>Oe(e.getRootNode(n)),getWin:n=>e.getDoc(n).defaultView??window,getActiveElement:n=>e.getDoc(n).activeElement,isActiveElement:(n,s)=>s===e.getActiveElement(n),focus(n,s){s!=null&&(e.isActiveElement(n,s)||s.focus({preventScroll:!0}))},getById:(n,s)=>e.getRootNode(n).getElementById(s),setValue:(n,s)=>{if(n==null||s==null)return;const r=s.toString();n.value!==r&&(n.value=s.toString())}};return{...e,...t}}var Tt=t=>t.nodeType===Node.DOCUMENT_NODE,Me=t=>t.nodeType!==void 0,je=t=>t&&Me(t)&&t.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&"host"in t;function an(t){return Tt(t)?t:(t==null?void 0:t.ownerDocument)??document}function Le(t){var e;return je(t)?Le(t.host):Tt(t)?t.defaultView??window:ot(t)?((e=t.ownerDocument)==null?void 0:e.defaultView)??window:window}function un(t){const{selectionStart:e,selectionEnd:n,value:s}=t.currentTarget;return s.slice(0,e)+t.data+s.slice(n)}function De(t,e){return t.find(n=>n.id===e)}function $t(t,e){const n=De(t,e);return n?t.indexOf(n):-1}function fn(t,e,n=!0){let s=$t(t,e);return s=n?(s+1)%t.length:Math.min(s+1,t.length-1),t[s]}function hn(t,e,n=!0){let s=$t(t,e);return s===-1?n?t[t.length-1]:null:(s=n?(s-1+t.length)%t.length:Math.max(0,s-1),t[s])}function ln(t){var e;return((e=t.composedPath)==null?void 0:e.call(t)[0])??t.target}function dn(t,e){return Array.from((t==null?void 0:t.querySelectorAll(e))??[])}function pn(t){const e=globalThis.requestAnimationFrame(t);return()=>{globalThis.cancelAnimationFrame(e)}}var yn=(t,e,n,s)=>{const r=typeof t=="function"?t():t;return r==null||r.addEventListener(e,n,s),()=>{r==null||r.removeEventListener(e,n,s)}},gn=t=>t.button===0,mn=t=>t.button===2||Pe()&&t.ctrlKey&&t.button===0,vn=t=>t.ctrlKey||t.altKey||t.metaKey,Pe=()=>/Mac|iPod|iPhone|iPad/.test(window.navigator.platform);function En(t,e,n){if(!t)return;const s=t.ownerDocument.defaultView||window,r=new s.CustomEvent(e,n);return t.dispatchEvent(r)}var Re={Up:"ArrowUp",Down:"ArrowDown",Esc:"Escape"," ":"Space",",":"Comma",Left:"ArrowLeft",Right:"ArrowRight"},wt={ArrowLeft:"ArrowRight",ArrowRight:"ArrowLeft"};function wn(t,e={}){const{dir:n="ltr",orientation:s="horizontal"}=e;let{key:r}=t;return r=Re[r]??r,n==="rtl"&&s==="horizontal"&&r in wt&&(r=wt[r]),r}function Ne(t,e="client"){const n=t.touches[0]||t.changedTouches[0];return{x:n[`${e}X`],y:n[`${e}Y`]}}function Te(t,e="client"){return{x:t[`${e}X`],y:t[`${e}Y`]}}var $e=t=>"touches"in t&&t.touches.length>0;function Sn(t,e="client"){return $e(t)?Ne(t,e):Te(t,e)}function xn(t){return t.nativeEvent??t}function St(t){return Math.max(0,Math.min(1,t))}function An(t,e){const{left:n,top:s,width:r,height:a}=e.getBoundingClientRect(),f={x:t.x-n,y:t.y-s},p={x:St(f.x/r),y:St(f.y/a)};function w(y={}){const{dir:i="ltr",orientation:c="horizontal",inverted:o}=y,u=typeof o=="object"?o.x:o,h=typeof o=="object"?o.y:o;return c==="horizontal"?i==="rtl"||u?1-p.x:p.x:h?1-p.y:p.y}return{offset:f,percent:p,getPercentValue:w}}var bn=(t,e)=>t.filter((n,s)=>s!==e),xt=t=>(t==null?void 0:t.constructor.name)==="Array",Fe=(t,e)=>{if(Object.is(t,e))return!0;if(t==null&&e!=null||t!=null&&e==null)return!1;if(typeof(t==null?void 0:t.isEqual)=="function"&&typeof(e==null?void 0:e.isEqual)=="function")return t.isEqual(e);if(typeof t=="function"&&typeof e=="function")return t.toString()===e.toString();if(xt(t)&&xt(e))return Array.from(t).toString()===Array.from(e).toString();if(typeof t!="object"||typeof e!="object")return!1;const n=Object.keys(e??Object.create(null)),s=n.length;for(let r=0;r<s;r++)if(!Reflect.has(t,n[r]))return!1;for(let r=0;r<s;r++){const a=n[r];if(!Fe(t[a],e[a]))return!1}return!0},Cn=(...t)=>(...e)=>{t.forEach(function(n){n==null||n(...e)})};function ke(t){if(!We(t)||t===void 0)return t;const e=Reflect.ownKeys(t).filter(s=>typeof s=="string"),n={};for(const s of e){const r=t[s];r!==void 0&&(n[s]=ke(r))}return n}var We=t=>t&&typeof t=="object"&&t.constructor===Object;function On(...t){const e=t.length===1?t[0]:t[1],n=t.length===2?t[0]:!0}function Mn(...t){const e=t.length===1?t[0]:t[1],n=t.length===2?t[0]:!0}const[jn,Ln]=be({name:"EnvironmentContext",hookName:"useEnvironmentContext",providerName:"<EnvironmentProvider />",strict:!1});function _e(t,e,n){if(!t)return;const s=t.ownerDocument.defaultView||window,r=new s.MutationObserver(a=>{for(const f of a)f.type==="attributes"&&f.attributeName&&e.includes(f.attributeName)&&n(f)});return r.observe(t,{attributes:!0,attributeFilter:e}),()=>r.disconnect()}var Ft=t=>t.ownerDocument.defaultView||window;function Ke(t,e){const{type:n="HTMLInputElement",property:s="value"}=e,r=Ft(t)[n].prototype;return Object.getOwnPropertyDescriptor(r,s)??{}}function ze(t,e,n={}){var r;(r=Ke(t,n).set)==null||r.call(t,e)}function Dn(t,e){const{value:n,bubbles:s=!0}=e;if(!t)return;const r=Ft(t);t instanceof r.HTMLInputElement&&(ze(t,`${n}`),t.dispatchEvent(new r.Event("input",{bubbles:s})))}function Ie(t){return Ve(t)?t.form:t.closest("form")}function Ve(t){return t.matches("textarea, input, select, button")}function qe(t,e){if(!t)return;const n=Ie(t);return n==null||n.addEventListener("reset",e,{passive:!0}),()=>{n==null||n.removeEventListener("reset",e)}}function Be(t,e){const n=t==null?void 0:t.closest("fieldset");if(n)return e(n.disabled),_e(n,["disabled"],()=>e(n.disabled))}function Pn(t,e){if(!t)return;const{onFieldsetDisabledChange:n,onFormReset:s}=e,r=[qe(t,s),Be(t,n)];return()=>{r.forEach(a=>a==null?void 0:a())}}export{An as A,Pn as B,an as C,Le as D,yn as E,En as F,ln as G,ot as H,on as I,mn as J,Cn as K,hn as L,fn as M,$t as N,Xe as O,bn as P,On as Q,cn as a,rn as b,st as c,sn as d,xn as e,vn as f,un as g,wn as h,Mn as i,ke as j,Je as k,Ye as l,Fe as m,Dn as n,be as o,nn as p,dn as q,pn as r,He as s,Qe as t,Ln as u,tn as v,fe as w,en as x,gn as y,Sn as z};
