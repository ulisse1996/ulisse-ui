import{j as e}from"./clsx-KtS07kqv.js";import{r as p}from"./index-4g5l5LRQ.js";import{B as C}from"./index-S8TDwp6l.js";import{C as k}from"./chip-j9a2m72j.js";import{I as w}from"./input-FUmdyJyu.js";import{L as T}from"./label-Uh2-_B8m.js";import{a as F,T as _,b as z,c as I}from"./tooltip-A0AnG0Is.js";import{c as V}from"./utils-1S_n7jHw.js";import{c as x}from"./createLucideIcon-cZfFbMz1.js";import"./_commonjsHelpers-4gQjN7DL.js";import"./index-nyTKe3TY.js";import"./spinner--pkT1kzj.js";import"./extends-dGVwEr9R.js";import"./index-XGpeoBSN.js";import"./index-jmm5gWkb.js";import"./index-0dIgYeBD.js";import"./index-VzvA_wF4.js";import"./index-cd2BOhhG.js";import"./index-HHSENXoC.js";import"./index-EwzVq0z5.js";import"./index-TcKUnSVx.js";import"./index-YCypRNSh.js";/**
 * @license lucide-react v0.293.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L=x("DownloadCloud",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m8 17 4 4 4-4",key:"1ul180"}]]);/**
 * @license lucide-react v0.293.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R=x("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.293.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W=x("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);function q(r,s,a){let n=!0;return s&&r.size>s&&(n=!1),a&&(n=a.split(",").map(l=>l.trim()).some(l=>r.type.match(l))),n}function M(r){return{file:r,id:crypto.randomUUID(),src:URL.createObjectURL(r)}}function O({maxSize:r,accept:s}){const[a,n]=p.useState([]),i=p.useCallback(t=>{const o=[];for(const c of t)q(c,r,s)&&o.push(M(c));n(c=>[...c,...o])},[r,s]),l=t=>{const{types:o}=t.dataTransfer;o.indexOf("Files")>-1&&t.preventDefault()},h=p.useCallback(t=>{t.preventDefault(),i(t.dataTransfer.files)},[]),d=p.useCallback(t=>{t.preventDefault();const{files:o}=t.target;o&&i(o)},[]);return{files:a,onDrop:h,onChange:d,onDelete:t=>{n(o=>[...o.filter(c=>c.id!==t.id)])},onDragOver:l}}function S({file:r,onDelete:s}){const a=r.file.type.match("image/*")?e.jsx("img",{src:r.src,alt:r.file.name,className:"h-24 w-32 rounded-md bg-fixed object-cover"}):e.jsx("div",{className:"flex h-24 w-32 items-center justify-center rounded-md bg-gray-300",children:e.jsx(R,{})}),n=i=>{i.preventDefault(),s(r)};return e.jsxs("div",{role:"presentation",onClick:i=>i.preventDefault(),className:"relative cursor-auto",children:[e.jsx("div",{className:"absolute right-1 top-1",children:e.jsx(C,{variant:"outline-destructive",size:"icon",className:"h-6 w-6",onClick:n,children:e.jsx(W,{size:16})})}),e.jsx("div",{className:"absolute bottom-1 left-1",children:e.jsx(F,{children:e.jsxs(_,{children:[e.jsx(z,{children:e.jsx(k,{variant:"primary",className:"h-6 w-28",children:e.jsx("p",{className:"overflow-hidden text-ellipsis text-xs",children:r.file.name})})}),e.jsx(I,{side:"bottom",children:r.file.name})]})})}),a]},r.id)}function U({label:r,subTitle:s}){return e.jsxs("div",{className:"flex flex-col items-center justify-center pb-6 pt-5",children:[e.jsx(L,{}),r&&e.jsx("p",{className:"mb-2 text-sm text-secondary-foreground",children:r}),s&&e.jsx("p",{className:"text-xs text-secondary-foreground/80",children:s})]})}const f=p.forwardRef(({subTitle:r,label:s,...a},n)=>{const{id:i}=a,{onDrop:l,onDragOver:h,files:d,onChange:g,onDelete:t}=O({...a});return e.jsx("div",{onDrop:l,onDragOver:h,className:"relative flex w-full items-center justify-center",children:e.jsxs(T,{htmlFor:i,className:V("flex h-64 w-full cursor-pointer flex-col rounded-lg border-2 border-dashed border-secondary bg-gray-50 hover:bg-secondary/30",{"items-center justify-center":d.length===0}),children:[d.length===0?e.jsx(U,{label:s,subTitle:r}):e.jsx("div",{className:"flex flex-row gap-2 p-4",children:d.map(o=>e.jsx(S,{file:o,onDelete:t},o.id))}),e.jsx(w,{...a,ref:n,type:"file",className:"hidden",onChange:g})]})})});f.displayName="Dropzone";try{f.displayName="Dropzone",f.__docgenInfo={description:"",displayName:"Dropzone",props:{subTitle:{defaultValue:null,description:"",name:"subTitle",required:!1,type:{name:"string"}},maxSize:{defaultValue:null,description:"",name:"maxSize",required:!1,type:{name:"number"}},label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"string"}},rightComponent:{defaultValue:null,description:"",name:"rightComponent",required:!1,type:{name:"ReactNode"}},leftComponent:{defaultValue:null,description:"",name:"leftComponent",required:!1,type:{name:"ReactNode"}}}}}catch{}const ce={component:f,title:"Form/Dropzone"},m={args:{label:"Drop your files here",id:"drop-files",subTitle:"We accept all files"}},u={args:{label:"Drop your files here",id:"drop-files",subTitle:"We accept only png",accept:"image/png"}};var y,j,b;m.parameters={...m.parameters,docs:{...(y=m.parameters)==null?void 0:y.docs,source:{originalSource:`{
  args: {
    label: \`Drop your files here\`,
    id: 'drop-files',
    subTitle: \`We accept all files\`
  }
}`,...(b=(j=m.parameters)==null?void 0:j.docs)==null?void 0:b.source}}};var v,D,N;u.parameters={...u.parameters,docs:{...(v=u.parameters)==null?void 0:v.docs,source:{originalSource:`{
  args: {
    label: \`Drop your files here\`,
    id: 'drop-files',
    subTitle: \`We accept only png\`,
    accept: \`image/png\`
  }
}`,...(N=(D=u.parameters)==null?void 0:D.docs)==null?void 0:N.source}}};const de=["Default","WithSpecificFiles"];export{m as Default,u as WithSpecificFiles,de as __namedExportsOrder,ce as default};
