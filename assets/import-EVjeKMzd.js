import{r as v,R as he}from"./index-4g5l5LRQ.js";import{t as Ke,l as I,u as De,v as _,w as m,x as ee,j,k as X,y as Re,z as Te,A as ye,B as Pe,_ as Ie,C as Ee,D as le,s as _e}from"./real-module-wTCPhnlO.js";function dt(e,t,r){let[a,o]=v.useState(e||t),l=v.useRef(e!==void 0),c=e!==void 0;v.useEffect(()=>{let d=l.current;d!==c&&console.warn(`WARN: A component changed from ${d?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}.`),l.current=c},[c]);let f=c?e:a,b=v.useCallback((d,...g)=>{let T=(F,...P)=>{r&&(Object.is(f,F)||r(F,...P)),c||(f=F)};typeof d=="function"?(console.warn("We can not support a function callback. See Github Issues for details https://github.com/adobe/react-spectrum/issues/2320"),o((P,...V)=>{let S=d(c?f:P,...V);return T(S,...g),c?P:S})):(c||o(d),T(d,...g))},[c,f,r]);return[f,b]}function pt(e,t=-1/0,r=1/0){return Math.min(Math.max(e,t),r)}function bt(e,t,r,a){t=Number(t),r=Number(r);let o=(e-(isNaN(t)?0:t))%a,l=Math.abs(o)*2>=a?e+Math.sign(o)*(a-Math.abs(o)):e-o;isNaN(t)?!isNaN(r)&&l>r&&(l=Math.floor(r/a)*a):l<t?l=t:!isNaN(r)&&l>r&&(l=t+Math.floor((r-t)/a)*a);let c=a.toString(),f=c.indexOf("."),b=f>=0?c.length-f:0;if(b>0){let d=Math.pow(10,b);l=Math.round(l*d)/d}return l}function Oe(e,t){return t.get?t.get.call(e):t.value}function me(e,t,r){if(!t.has(e))throw new TypeError("attempted to "+r+" private field on non-instance");return t.get(e)}function Ae(e,t){var r=me(e,t,"get");return Oe(e,r)}function Ve(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=r}}function ue(e,t,r){var a=me(e,t,"set");return Ve(e,a,r),r}let O="default",te="",Y=new WeakMap;function ce(e){if(Te()){if(O==="default"){const t=m(e);te=t.documentElement.style.webkitUserSelect,t.documentElement.style.webkitUserSelect="none"}O="disabled"}else(e instanceof HTMLElement||e instanceof SVGElement)&&(Y.set(e,e.style.userSelect),e.style.userSelect="none")}function H(e){if(Te()){if(O!=="disabled")return;O="restoring",setTimeout(()=>{ye(()=>{if(O==="restoring"){const t=m(e);t.documentElement.style.webkitUserSelect==="none"&&(t.documentElement.style.webkitUserSelect=te||""),te="",O="default"}})},300)}else if((e instanceof HTMLElement||e instanceof SVGElement)&&e&&Y.has(e)){let t=Y.get(e);e.style.userSelect==="none"&&(e.style.userSelect=t),e.getAttribute("style")===""&&e.removeAttribute("style"),Y.delete(e)}}const Se=he.createContext({register:()=>{}});Se.displayName="PressResponderContext";function We(e){let t=v.useContext(Se);if(t){let{register:r,...a}=t;e=X(a,e),r()}return Pe(t,e.ref),e}var B=new WeakMap;class U{continuePropagation(){ue(this,B,!1)}get shouldStopPropagation(){return Ae(this,B)}constructor(t,r,a){Ie(this,B,{writable:!0,value:void 0}),ue(this,B,!0),this.type=t,this.pointerType=r,this.target=a.currentTarget,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.ctrlKey=a.ctrlKey,this.altKey=a.altKey}}const fe=Symbol("linkClicked");function gt(e){let{onPress:t,onPressChange:r,onPressStart:a,onPressEnd:o,onPressUp:l,isDisabled:c,isPressed:f,preventFocusOnPress:b,shouldCancelOnPointerExit:d,allowTextSelectionOnPress:g,ref:T,...F}=We(e),[P,V]=v.useState(!1),S=v.useRef({isPressed:!1,ignoreEmulatedMouseEvents:!1,ignoreClickAfterPress:!1,didFirePressStart:!1,isTriggeringEvent:!1,activePointerId:null,target:null,isOverTarget:!1,pointerType:null}),{addGlobalListener:M,removeAllGlobalListeners:N}=Ke(),w=I((n,p)=>{let E=S.current;if(c||E.didFirePressStart)return!1;let u=!0;if(E.isTriggeringEvent=!0,a){let $=new U("pressstart",p,n);a($),u=$.shouldStopPropagation}return r&&r(!0),E.isTriggeringEvent=!1,E.didFirePressStart=!0,V(!0),u}),y=I((n,p,E=!0)=>{let u=S.current;if(!u.didFirePressStart)return!1;u.ignoreClickAfterPress=!0,u.didFirePressStart=!1,u.isTriggeringEvent=!0;let $=!0;if(o){let i=new U("pressend",p,n);o(i),$=i.shouldStopPropagation}if(r&&r(!1),V(!1),t&&E&&!c){let i=new U("press",p,n);t(i),$&&($=i.shouldStopPropagation)}return u.isTriggeringEvent=!1,$}),K=I((n,p)=>{let E=S.current;if(c)return!1;if(l){E.isTriggeringEvent=!0;let u=new U("pressup",p,n);return l(u),E.isTriggeringEvent=!1,u.shouldStopPropagation}return!0}),C=I(n=>{let p=S.current;p.isPressed&&p.target&&(p.isOverTarget&&p.pointerType!=null&&y(x(p.target,n),p.pointerType,!1),p.isPressed=!1,p.isOverTarget=!1,p.activePointerId=null,p.pointerType=null,N(),g||H(p.target))}),W=I(n=>{d&&C(n)}),Ne=v.useMemo(()=>{let n=S.current,p={onKeyDown(u){if(q(u.nativeEvent,u.currentTarget)&&u.currentTarget.contains(u.target)){var $;pe(u.target,u.key)&&u.preventDefault();let i=!0;!n.isPressed&&!u.repeat&&(n.target=u.currentTarget,n.isPressed=!0,i=w(u,"keyboard"),M(m(u.currentTarget),"keyup",E,!1)),i&&u.stopPropagation(),u.metaKey&&Ee()&&(($=n.metaKeyEvents)===null||$===void 0||$.set(u.key,u.nativeEvent))}else u.key==="Meta"&&(n.metaKeyEvents=new Map)},onKeyUp(u){q(u.nativeEvent,u.currentTarget)&&!u.repeat&&u.currentTarget.contains(u.target)&&n.target&&K(x(n.target,u),"keyboard")},onClick(u){if(!(u&&!u.currentTarget.contains(u.target))&&u&&u.button===0&&!n.isTriggeringEvent&&!le.isOpening){let $=!0;if(c&&u.preventDefault(),!n.ignoreClickAfterPress&&!n.ignoreEmulatedMouseEvents&&!n.isPressed&&(n.pointerType==="virtual"||ee(u.nativeEvent))){!c&&!b&&_(u.currentTarget);let i=w(u,"virtual"),s=K(u,"virtual"),h=y(u,"virtual");$=i&&s&&h}n.ignoreEmulatedMouseEvents=!1,n.ignoreClickAfterPress=!1,$&&u.stopPropagation()}}},E=u=>{var $;if(n.isPressed&&n.target&&q(u,n.target)){var i;pe(u.target,u.key)&&u.preventDefault();let h=u.target,J=y(x(n.target,u),"keyboard",n.target.contains(h));N(),J&&u.stopPropagation(),u.key!=="Enter"&&ie(n.target)&&n.target.contains(h)&&!u[fe]&&(u[fe]=!0,le(n.target,u,!1)),n.isPressed=!1,(i=n.metaKeyEvents)===null||i===void 0||i.delete(u.key)}else if(u.key==="Meta"&&(!(($=n.metaKeyEvents)===null||$===void 0)&&$.size)){var s;let h=n.metaKeyEvents;n.metaKeyEvents=void 0;for(let J of h.values())(s=n.target)===null||s===void 0||s.dispatchEvent(new KeyboardEvent("keyup",J))}};if(typeof PointerEvent<"u"){p.onPointerDown=s=>{if(s.button!==0||!s.currentTarget.contains(s.target))return;if(De(s.nativeEvent)){n.pointerType="virtual";return}Q(s.currentTarget)&&s.preventDefault(),n.pointerType=s.pointerType;let h=!0;n.isPressed||(n.isPressed=!0,n.isOverTarget=!0,n.activePointerId=s.pointerId,n.target=s.currentTarget,!c&&!b&&_(s.currentTarget),g||ce(n.target),h=w(s,n.pointerType),M(m(s.currentTarget),"pointermove",u,!1),M(m(s.currentTarget),"pointerup",$,!1),M(m(s.currentTarget),"pointercancel",i,!1)),h&&s.stopPropagation()},p.onMouseDown=s=>{s.currentTarget.contains(s.target)&&s.button===0&&(Q(s.currentTarget)&&s.preventDefault(),s.stopPropagation())},p.onPointerUp=s=>{!s.currentTarget.contains(s.target)||n.pointerType==="virtual"||s.button===0&&D(s,s.currentTarget)&&K(s,n.pointerType||s.pointerType)};let u=s=>{s.pointerId===n.activePointerId&&(n.target&&D(s,n.target)?!n.isOverTarget&&n.pointerType!=null&&(n.isOverTarget=!0,w(x(n.target,s),n.pointerType)):n.target&&n.isOverTarget&&n.pointerType!=null&&(n.isOverTarget=!1,y(x(n.target,s),n.pointerType,!1),W(s)))},$=s=>{s.pointerId===n.activePointerId&&n.isPressed&&s.button===0&&n.target&&(D(s,n.target)&&n.pointerType!=null?y(x(n.target,s),n.pointerType):n.isOverTarget&&n.pointerType!=null&&y(x(n.target,s),n.pointerType,!1),n.isPressed=!1,n.isOverTarget=!1,n.activePointerId=null,n.pointerType=null,N(),g||H(n.target))},i=s=>{C(s)};p.onDragStart=s=>{s.currentTarget.contains(s.target)&&C(s)}}else{p.onMouseDown=i=>{if(i.button!==0||!i.currentTarget.contains(i.target))return;if(Q(i.currentTarget)&&i.preventDefault(),n.ignoreEmulatedMouseEvents){i.stopPropagation();return}n.isPressed=!0,n.isOverTarget=!0,n.target=i.currentTarget,n.pointerType=ee(i.nativeEvent)?"virtual":"mouse",!c&&!b&&_(i.currentTarget),w(i,n.pointerType)&&i.stopPropagation(),M(m(i.currentTarget),"mouseup",u,!1)},p.onMouseEnter=i=>{if(!i.currentTarget.contains(i.target))return;let s=!0;n.isPressed&&!n.ignoreEmulatedMouseEvents&&n.pointerType!=null&&(n.isOverTarget=!0,s=w(i,n.pointerType)),s&&i.stopPropagation()},p.onMouseLeave=i=>{if(!i.currentTarget.contains(i.target))return;let s=!0;n.isPressed&&!n.ignoreEmulatedMouseEvents&&n.pointerType!=null&&(n.isOverTarget=!1,s=y(i,n.pointerType,!1),W(i)),s&&i.stopPropagation()},p.onMouseUp=i=>{i.currentTarget.contains(i.target)&&!n.ignoreEmulatedMouseEvents&&i.button===0&&K(i,n.pointerType||"mouse")};let u=i=>{if(i.button===0){if(n.isPressed=!1,N(),n.ignoreEmulatedMouseEvents){n.ignoreEmulatedMouseEvents=!1;return}n.target&&D(i,n.target)&&n.pointerType!=null?y(x(n.target,i),n.pointerType):n.target&&n.isOverTarget&&n.pointerType!=null&&y(x(n.target,i),n.pointerType,!1),n.isOverTarget=!1}};p.onTouchStart=i=>{if(!i.currentTarget.contains(i.target))return;let s=He(i.nativeEvent);if(!s)return;n.activePointerId=s.identifier,n.ignoreEmulatedMouseEvents=!0,n.isOverTarget=!0,n.isPressed=!0,n.target=i.currentTarget,n.pointerType="touch",!c&&!b&&_(i.currentTarget),g||ce(n.target),w(i,n.pointerType)&&i.stopPropagation(),M(j(i.currentTarget),"scroll",$,!0)},p.onTouchMove=i=>{if(!i.currentTarget.contains(i.target))return;if(!n.isPressed){i.stopPropagation();return}let s=de(i.nativeEvent,n.activePointerId),h=!0;s&&D(s,i.currentTarget)?!n.isOverTarget&&n.pointerType!=null&&(n.isOverTarget=!0,h=w(i,n.pointerType)):n.isOverTarget&&n.pointerType!=null&&(n.isOverTarget=!1,h=y(i,n.pointerType,!1),W(i)),h&&i.stopPropagation()},p.onTouchEnd=i=>{if(!i.currentTarget.contains(i.target))return;if(!n.isPressed){i.stopPropagation();return}let s=de(i.nativeEvent,n.activePointerId),h=!0;s&&D(s,i.currentTarget)&&n.pointerType!=null?(K(i,n.pointerType),h=y(i,n.pointerType)):n.isOverTarget&&n.pointerType!=null&&(h=y(i,n.pointerType,!1)),h&&i.stopPropagation(),n.isPressed=!1,n.activePointerId=null,n.isOverTarget=!1,n.ignoreEmulatedMouseEvents=!0,n.target&&!g&&H(n.target),N()},p.onTouchCancel=i=>{i.currentTarget.contains(i.target)&&(i.stopPropagation(),n.isPressed&&C(i))};let $=i=>{n.isPressed&&i.target.contains(n.target)&&C({currentTarget:n.target,shiftKey:!1,ctrlKey:!1,metaKey:!1,altKey:!1})};p.onDragStart=i=>{i.currentTarget.contains(i.target)&&C(i)}}return p},[M,c,b,N,g,C,W,y,w,K]);return v.useEffect(()=>()=>{var n;g||H((n=S.current.target)!==null&&n!==void 0?n:void 0)},[g]),{isPressed:f||P,pressProps:X(F,Ne)}}function ie(e){return e.tagName==="A"&&e.hasAttribute("href")}function q(e,t){const{key:r,code:a}=e,o=t,l=o.getAttribute("role");return(r==="Enter"||r===" "||r==="Spacebar"||a==="Space")&&!(o instanceof j(o).HTMLInputElement&&!we(o,r)||o instanceof j(o).HTMLTextAreaElement||o.isContentEditable)&&!((l==="link"||!l&&ie(o))&&r!=="Enter")}function He(e){const{targetTouches:t}=e;return t.length>0?t[0]:null}function de(e,t){const r=e.changedTouches;for(let a=0;a<r.length;a++){const o=r[a];if(o.identifier===t)return o}return null}function x(e,t){return{currentTarget:e,shiftKey:t.shiftKey,ctrlKey:t.ctrlKey,metaKey:t.metaKey,altKey:t.altKey}}function Be(e){let t=0,r=0;return e.width!==void 0?t=e.width/2:e.radiusX!==void 0&&(t=e.radiusX),e.height!==void 0?r=e.height/2:e.radiusY!==void 0&&(r=e.radiusY),{top:e.clientY-r,right:e.clientX+t,bottom:e.clientY+r,left:e.clientX-t}}function Ue(e,t){return!(e.left>t.right||t.left>e.right||e.top>t.bottom||t.top>e.bottom)}function D(e,t){let r=t.getBoundingClientRect(),a=Be(e);return Ue(r,a)}function Q(e){return!(e instanceof HTMLElement)||!e.hasAttribute("draggable")}function pe(e,t){return e instanceof HTMLInputElement?!we(e,t):e instanceof HTMLButtonElement?e.type!=="submit"&&e.type!=="reset":!ie(e)}const Ge=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function we(e,t){return e.type==="checkbox"||e.type==="radio"?t===" ":Ge.has(e.type)}class Ye{isDefaultPrevented(){return this.nativeEvent.defaultPrevented}preventDefault(){this.defaultPrevented=!0,this.nativeEvent.preventDefault()}stopPropagation(){this.nativeEvent.stopPropagation(),this.isPropagationStopped=()=>!0}isPropagationStopped(){return!1}persist(){}constructor(t,r){this.nativeEvent=r,this.target=r.target,this.currentTarget=r.currentTarget,this.relatedTarget=r.relatedTarget,this.bubbles=r.bubbles,this.cancelable=r.cancelable,this.defaultPrevented=r.defaultPrevented,this.eventPhase=r.eventPhase,this.isTrusted=r.isTrusted,this.timeStamp=r.timeStamp,this.type=t}}function xe(e){let t=v.useRef({isFocused:!1,observer:null});_e(()=>{const a=t.current;return()=>{a.observer&&(a.observer.disconnect(),a.observer=null)}},[]);let r=I(a=>{e==null||e(a)});return v.useCallback(a=>{if(a.target instanceof HTMLButtonElement||a.target instanceof HTMLInputElement||a.target instanceof HTMLTextAreaElement||a.target instanceof HTMLSelectElement){t.current.isFocused=!0;let o=a.target,l=c=>{t.current.isFocused=!1,o.disabled&&r(new Ye("blur",c)),t.current.observer&&(t.current.observer.disconnect(),t.current.observer=null)};o.addEventListener("focusout",l,{once:!0}),t.current.observer=new MutationObserver(()=>{if(t.current.isFocused&&o.disabled){var c;(c=t.current.observer)===null||c===void 0||c.disconnect();let f=o===document.activeElement?null:document.activeElement;o.dispatchEvent(new FocusEvent("blur",{relatedTarget:f})),o.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:f}))}}),t.current.observer.observe(o,{attributes:!0,attributeFilter:["disabled"]})}},[r])}function Fe(e){let{isDisabled:t,onFocus:r,onBlur:a,onFocusChange:o}=e;const l=v.useCallback(b=>{if(b.target===b.currentTarget)return a&&a(b),o&&o(!1),!0},[a,o]),c=xe(l),f=v.useCallback(b=>{b.target===b.currentTarget&&document.activeElement===b.target&&(r&&r(b),o&&o(!0),c(b))},[o,r,c]);return{focusProps:{onFocus:!t&&(r||o||a)?f:void 0,onBlur:!t&&(a||o)?l:void 0}}}let L=null,re=new Set,be=!1,k=!1,ne=!1;const je={Tab:!0,Escape:!0};function z(e,t){for(let r of re)r(e,t)}function Xe(e){return!(e.metaKey||!Ee()&&e.altKey||e.ctrlKey||e.key==="Control"||e.key==="Shift"||e.key==="Meta")}function ge(e){k=!0,Xe(e)&&(L="keyboard",z("keyboard",e))}function R(e){L="pointer",(e.type==="mousedown"||e.type==="pointerdown")&&(k=!0,z("pointer",e))}function ze(e){ee(e)&&(k=!0,L="virtual")}function Je(e){e.target===window||e.target===document||(!k&&!ne&&(L="virtual",z("virtual",e)),k=!1,ne=!1)}function qe(){k=!1,ne=!0}function ae(){if(typeof window>"u"||be)return;let e=HTMLElement.prototype.focus;HTMLElement.prototype.focus=function(){k=!0,e.apply(this,arguments)},document.addEventListener("keydown",ge,!0),document.addEventListener("keyup",ge,!0),document.addEventListener("click",ze,!0),window.addEventListener("focus",Je,!0),window.addEventListener("blur",qe,!1),typeof PointerEvent<"u"?(document.addEventListener("pointerdown",R,!0),document.addEventListener("pointermove",R,!0),document.addEventListener("pointerup",R,!0)):(document.addEventListener("mousedown",R,!0),document.addEventListener("mousemove",R,!0),document.addEventListener("mouseup",R,!0)),be=!0}typeof document<"u"&&(document.readyState!=="loading"?ae():document.addEventListener("DOMContentLoaded",ae));function Me(){return L!=="pointer"}function Qe(){return L}function vt(e){L=e,z(e,null)}const Ze=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function et(e,t,r){var a;return e=e||(r==null?void 0:r.target)instanceof HTMLInputElement&&!Ze.has(r==null||(a=r.target)===null||a===void 0?void 0:a.type)||(r==null?void 0:r.target)instanceof HTMLTextAreaElement||(r==null?void 0:r.target)instanceof HTMLElement&&(r==null?void 0:r.target.isContentEditable),!(e&&t==="keyboard"&&r instanceof KeyboardEvent&&!je[r.key])}function tt(e,t,r){ae(),v.useEffect(()=>{let a=(o,l)=>{et(!!(r!=null&&r.isTextInput),o,l)&&e(Me())};return re.add(a),()=>{re.delete(a)}},t)}function rt(e){let{isDisabled:t,onBlurWithin:r,onFocusWithin:a,onFocusWithinChange:o}=e,l=v.useRef({isFocusWithin:!1}),c=v.useCallback(d=>{l.current.isFocusWithin&&!d.currentTarget.contains(d.relatedTarget)&&(l.current.isFocusWithin=!1,r&&r(d),o&&o(!1))},[r,o,l]),f=xe(c),b=v.useCallback(d=>{!l.current.isFocusWithin&&document.activeElement===d.target&&(a&&a(d),o&&o(!0),l.current.isFocusWithin=!0,f(d))},[a,o,f]);return t?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:b,onBlur:c}}}function ve(e){if(!e)return;let t=!0;return r=>{let a={...r,preventDefault(){r.preventDefault()},isDefaultPrevented(){return r.isDefaultPrevented()},stopPropagation(){console.error("stopPropagation is now the default behavior for events in React Spectrum. You can use continuePropagation() to revert this behavior.")},continuePropagation(){t=!1}};e(a),t&&r.stopPropagation()}}function nt(e){return{keyboardProps:e.isDisabled?{}:{onKeyDown:ve(e.onKeyDown),onKeyUp:ve(e.onKeyUp)}}}function $t(e,t){let{onScroll:r,isDisabled:a}=e,o=v.useCallback(l=>{l.ctrlKey||(l.preventDefault(),l.stopPropagation(),r&&r({deltaX:l.deltaX,deltaY:l.deltaY}))},[r]);Re(t,"wheel",a?void 0:o)}function Ce(e){const t=m(e);if(Qe()==="virtual"){let r=t.activeElement;ye(()=>{t.activeElement===r&&e.isConnected&&_(e)})}else _(e)}function at(e){const t=j(e);if(!(e instanceof t.HTMLElement)&&!(e instanceof t.SVGElement))return!1;let{display:r,visibility:a}=e.style,o=r!=="none"&&a!=="hidden"&&a!=="collapse";if(o){const{getComputedStyle:l}=e.ownerDocument.defaultView;let{display:c,visibility:f}=l(e);o=c!=="none"&&f!=="hidden"&&f!=="collapse"}return o}function it(e,t){return!e.hasAttribute("hidden")&&(e.nodeName==="DETAILS"&&t&&t.nodeName!=="SUMMARY"?e.hasAttribute("open"):!0)}function ke(e,t){return e.nodeName!=="#comment"&&at(e)&&it(e,t)&&(!e.parentElement||ke(e.parentElement,e))}const oe=["input:not([disabled]):not([type=hidden])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[contenteditable]"],ot=oe.join(":not([hidden]),")+",[tabindex]:not([disabled]):not([hidden])";oe.push('[tabindex]:not([tabindex="-1"]):not([disabled])');const st=oe.join(':not([hidden]):not([tabindex="-1"]),');function Le(e,t){return!e||!t?!1:t.some(r=>r.contains(e))}function A(e,t=!1){if(e!=null&&!t)try{Ce(e)}catch{}else if(e!=null)try{e.focus()}catch{}}function G(e,t,r){let a=t!=null&&t.tabbable?st:ot,o=m(e).createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode(l){var c;return!(t==null||(c=t.from)===null||c===void 0)&&c.contains(l)?NodeFilter.FILTER_REJECT:l.matches(a)&&ke(l)&&(!r||Le(l,r))&&(!(t!=null&&t.accept)||t.accept(l))?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});return t!=null&&t.from&&(o.currentNode=t.from),o}function ht(e,t={}){return{focusNext(r={}){let a=e.current;if(!a)return null;let{from:o,tabbable:l=t.tabbable,wrap:c=t.wrap,accept:f=t.accept}=r,b=o||m(a).activeElement,d=G(a,{tabbable:l,accept:f});a.contains(b)&&(d.currentNode=b);let g=d.nextNode();return!g&&c&&(d.currentNode=a,g=d.nextNode()),g&&A(g,!0),g},focusPrevious(r=t){let a=e.current;if(!a)return null;let{from:o,tabbable:l=t.tabbable,wrap:c=t.wrap,accept:f=t.accept}=r,b=o||m(a).activeElement,d=G(a,{tabbable:l,accept:f});if(a.contains(b))d.currentNode=b;else{let T=Z(d);return T&&A(T,!0),T??null}let g=d.previousNode();if(!g&&c){d.currentNode=a;let T=Z(d);if(!T)return null;g=T}return g&&A(g,!0),g??null},focusFirst(r=t){let a=e.current;if(!a)return null;let{tabbable:o=t.tabbable,accept:l=t.accept}=r,f=G(a,{tabbable:o,accept:l}).nextNode();return f&&A(f,!0),f},focusLast(r=t){let a=e.current;if(!a)return null;let{tabbable:o=t.tabbable,accept:l=t.accept}=r,c=G(a,{tabbable:o,accept:l}),f=Z(c);return f&&A(f,!0),f??null}}}function Z(e){let t,r;do r=e.lastChild(),r&&(t=r);while(r);return t}class se{get size(){return this.fastMap.size}getTreeNode(t){return this.fastMap.get(t)}addTreeNode(t,r,a){let o=this.fastMap.get(r??null);if(!o)return;let l=new $e({scopeRef:t});o.addChild(l),l.parent=o,this.fastMap.set(t,l),a&&(l.nodeToRestore=a)}addNode(t){this.fastMap.set(t.scopeRef,t)}removeTreeNode(t){if(t===null)return;let r=this.fastMap.get(t);if(!r)return;let a=r.parent;for(let l of this.traverse())l!==r&&r.nodeToRestore&&l.nodeToRestore&&r.scopeRef&&r.scopeRef.current&&Le(l.nodeToRestore,r.scopeRef.current)&&(l.nodeToRestore=r.nodeToRestore);let o=r.children;a&&(a.removeChild(r),o.size>0&&o.forEach(l=>a&&a.addChild(l))),this.fastMap.delete(r.scopeRef)}*traverse(t=this.root){if(t.scopeRef!=null&&(yield t),t.children.size>0)for(let r of t.children)yield*this.traverse(r)}clone(){var t;let r=new se;var a;for(let o of this.traverse())r.addTreeNode(o.scopeRef,(a=(t=o.parent)===null||t===void 0?void 0:t.scopeRef)!==null&&a!==void 0?a:null,o.nodeToRestore);return r}constructor(){this.fastMap=new Map,this.root=new $e({scopeRef:null}),this.fastMap.set(null,this.root)}}class $e{addChild(t){this.children.add(t),t.parent=this}removeChild(t){this.children.delete(t),t.parent=void 0}constructor(t){this.children=new Set,this.contain=!1,this.scopeRef=t.scopeRef}}new se;function Tt(e={}){let{autoFocus:t=!1,isTextInput:r,within:a}=e,o=v.useRef({isFocused:!1,isFocusVisible:t||Me()}),[l,c]=v.useState(!1),[f,b]=v.useState(()=>o.current.isFocused&&o.current.isFocusVisible),d=v.useCallback(()=>b(o.current.isFocused&&o.current.isFocusVisible),[]),g=v.useCallback(P=>{o.current.isFocused=P,c(P),d()},[d]);tt(P=>{o.current.isFocusVisible=P,d()},[],{isTextInput:r});let{focusProps:T}=Fe({isDisabled:a,onFocusChange:g}),{focusWithinProps:F}=rt({isDisabled:!a,onFocusWithinChange:g});return{isFocused:l,isFocusVisible:f,focusProps:a?F:T}}let lt=he.createContext(null);function ut(e){let t=v.useContext(lt)||{};Pe(t,e);let{ref:r,...a}=t;return a}function yt(e,t){let{focusProps:r}=Fe(e),{keyboardProps:a}=nt(e),o=X(r,a),l=ut(t),c=e.isDisabled?{}:l,f=v.useRef(e.autoFocus);return v.useEffect(()=>{f.current&&t.current&&Ce(t.current),f.current=!1},[t]),{focusableProps:X({...o,tabIndex:e.excludeFromTabOrder&&!e.isDisabled?-1:void 0},c)}}export{dt as $,yt as a,vt as b,Fe as c,rt as d,$t as e,bt as f,pt as g,gt as h,Qe as i,Tt as j,ht as k,G as l};
