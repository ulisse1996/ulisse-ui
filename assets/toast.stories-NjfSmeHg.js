import{j as m}from"./clsx-KtS07kqv.js";import{f as Ae}from"./index-KLTnsmU9.js";import{B as De}from"./index-S8TDwp6l.js";import{_}from"./extends-dGVwEr9R.js";import{r}from"./index-4g5l5LRQ.js";import{r as Ie}from"./index-jmm5gWkb.js";import{$ as Ne,b as Oe,e as B,c as h,a as Fe}from"./index-0dIgYeBD.js";import{$ as me,b as N,c as Me}from"./index-XGpeoBSN.js";import{$ as Le}from"./index-mbzsKfaj.js";import{a as Ve,b as ke}from"./index-VzvA_wF4.js";import{$ as Ke}from"./index-zgrs-vd1.js";import{$ as je}from"./index-TcKUnSVx.js";import{a as be}from"./index-YCypRNSh.js";import{c as We}from"./index-nyTKe3TY.js";import{c as O}from"./utils-1S_n7jHw.js";import{X as He}from"./x-mHLJlCGn.js";import"./spinner--pkT1kzj.js";import"./_commonjsHelpers-4gQjN7DL.js";import"./createLucideIcon-cZfFbMz1.js";const ve="ToastProvider",[se,Ue,Xe]=Le("Toast"),[Te,qt]=Ne("Toast",[Xe]),[qe,z]=Te(ve),$e=e=>{const{__scopeToast:t,label:o="Notification",duration:n=5e3,swipeDirection:i="right",swipeThreshold:d=50,children:p}=e,[f,b]=r.useState(null),[a,g]=r.useState(0),x=r.useRef(!1),F=r.useRef(!1);return r.createElement(se.Provider,{scope:t},r.createElement(qe,{scope:t,label:o,duration:n,swipeDirection:i,swipeThreshold:d,toastCount:a,viewport:f,onViewportChange:b,onToastAdd:r.useCallback(()=>g(R=>R+1),[]),onToastRemove:r.useCallback(()=>g(R=>R-1),[]),isFocusedToastEscapeKeyDownRef:x,isClosePausedRef:F},p))};$e.propTypes={label(e){if(e.label&&typeof e.label=="string"&&!e.label.trim()){const t=`Invalid prop \`label\` supplied to \`${ve}\`. Expected non-empty \`string\`.`;return new Error(t)}return null}};const Be="ToastViewport",Ye=["F8"],oe="toast.viewportPause",re="toast.viewportResume",ze=r.forwardRef((e,t)=>{const{__scopeToast:o,hotkey:n=Ye,label:i="Notifications ({hotkey})",...d}=e,p=z(Be,o),f=Ue(o),b=r.useRef(null),a=r.useRef(null),g=r.useRef(null),x=r.useRef(null),F=me(t,x,p.onViewportChange),R=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),P=p.toastCount>0;r.useEffect(()=>{const c=E=>{var l;n.every(T=>E[T]||E.code===T)&&((l=x.current)===null||l===void 0||l.focus())};return document.addEventListener("keydown",c),()=>document.removeEventListener("keydown",c)},[n]),r.useEffect(()=>{const c=b.current,E=x.current;if(P&&c&&E){const l=()=>{if(!p.isClosePausedRef.current){const w=new CustomEvent(oe);E.dispatchEvent(w),p.isClosePausedRef.current=!0}},v=()=>{if(p.isClosePausedRef.current){const w=new CustomEvent(re);E.dispatchEvent(w),p.isClosePausedRef.current=!1}},T=w=>{!c.contains(w.relatedTarget)&&v()},$=()=>{c.contains(document.activeElement)||v()};return c.addEventListener("focusin",l),c.addEventListener("focusout",T),c.addEventListener("pointermove",l),c.addEventListener("pointerleave",$),window.addEventListener("blur",l),window.addEventListener("focus",v),()=>{c.removeEventListener("focusin",l),c.removeEventListener("focusout",T),c.removeEventListener("pointermove",l),c.removeEventListener("pointerleave",$),window.removeEventListener("blur",l),window.removeEventListener("focus",v)}}},[P,p.isClosePausedRef]);const u=r.useCallback(({tabbingDirection:c})=>{const l=f().map(v=>{const T=v.ref.current,$=[T,...lt(T)];return c==="forwards"?$:$.reverse()});return(c==="forwards"?l.reverse():l).flat()},[f]);return r.useEffect(()=>{const c=x.current;if(c){const E=l=>{const v=l.altKey||l.ctrlKey||l.metaKey;if(l.key==="Tab"&&!v){const M=document.activeElement,D=l.shiftKey;if(l.target===c&&D){var $;($=a.current)===null||$===void 0||$.focus();return}const A=u({tabbingDirection:D?"backwards":"forwards"}),K=A.findIndex(s=>s===M);if(Z(A.slice(K+1)))l.preventDefault();else{var w,C;D?(w=a.current)===null||w===void 0||w.focus():(C=g.current)===null||C===void 0||C.focus()}}};return c.addEventListener("keydown",E),()=>c.removeEventListener("keydown",E)}},[f,u]),r.createElement(Ve,{ref:b,role:"region","aria-label":i.replace("{hotkey}",R),tabIndex:-1,style:{pointerEvents:P?void 0:"none"}},P&&r.createElement(ie,{ref:a,onFocusFromOutsideViewport:()=>{const c=u({tabbingDirection:"forwards"});Z(c)}}),r.createElement(se.Slot,{scope:o},r.createElement(N.ol,_({tabIndex:-1},d,{ref:F}))),P&&r.createElement(ie,{ref:g,onFocusFromOutsideViewport:()=>{const c=u({tabbingDirection:"backwards"});Z(c)}}))}),Ge="ToastFocusProxy",ie=r.forwardRef((e,t)=>{const{__scopeToast:o,onFocusFromOutsideViewport:n,...i}=e,d=z(Ge,o);return r.createElement(be,_({"aria-hidden":!0,tabIndex:0},i,{ref:t,style:{position:"fixed"},onFocus:p=>{var f;const b=p.relatedTarget;!((f=d.viewport)!==null&&f!==void 0&&f.contains(b))&&n()}}))}),G="Toast",Qe="toast.swipeStart",Je="toast.swipeMove",Ze="toast.swipeCancel",et="toast.swipeEnd",tt=r.forwardRef((e,t)=>{const{forceMount:o,open:n,defaultOpen:i,onOpenChange:d,...p}=e,[f=!0,b]=Oe({prop:n,defaultProp:i,onChange:d});return r.createElement(je,{present:o||f},r.createElement(we,_({open:f},p,{ref:t,onClose:()=>b(!1),onPause:B(e.onPause),onResume:B(e.onResume),onSwipeStart:h(e.onSwipeStart,a=>{a.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:h(e.onSwipeMove,a=>{const{x:g,y:x}=a.detail.delta;a.currentTarget.setAttribute("data-swipe","move"),a.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${g}px`),a.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${x}px`)}),onSwipeCancel:h(e.onSwipeCancel,a=>{a.currentTarget.setAttribute("data-swipe","cancel"),a.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),a.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),a.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),a.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:h(e.onSwipeEnd,a=>{const{x:g,y:x}=a.detail.delta;a.currentTarget.setAttribute("data-swipe","end"),a.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),a.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),a.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${g}px`),a.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${x}px`),b(!1)})})))}),[ot,rt]=Te(G,{onClose(){}}),we=r.forwardRef((e,t)=>{const{__scopeToast:o,type:n="foreground",duration:i,open:d,onClose:p,onEscapeKeyDown:f,onPause:b,onResume:a,onSwipeStart:g,onSwipeMove:x,onSwipeCancel:F,onSwipeEnd:R,...P}=e,u=z(G,o),[c,E]=r.useState(null),l=me(t,s=>E(s)),v=r.useRef(null),T=r.useRef(null),$=i||u.duration,w=r.useRef(0),C=r.useRef($),M=r.useRef(0),{onToastAdd:D,onToastRemove:Q}=u,I=B(()=>{var s;(c==null?void 0:c.contains(document.activeElement))&&((s=u.viewport)===null||s===void 0||s.focus()),p()}),A=r.useCallback(s=>{!s||s===1/0||(window.clearTimeout(M.current),w.current=new Date().getTime(),M.current=window.setTimeout(I,s))},[I]);r.useEffect(()=>{const s=u.viewport;if(s){const y=()=>{A(C.current),a==null||a()},S=()=>{const L=new Date().getTime()-w.current;C.current=C.current-L,window.clearTimeout(M.current),b==null||b()};return s.addEventListener(oe,S),s.addEventListener(re,y),()=>{s.removeEventListener(oe,S),s.removeEventListener(re,y)}}},[u.viewport,$,b,a,A]),r.useEffect(()=>{d&&!u.isClosePausedRef.current&&A($)},[d,$,u.isClosePausedRef,A]),r.useEffect(()=>(D(),()=>Q()),[D,Q]);const K=r.useMemo(()=>c?ye(c):null,[c]);return u.viewport?r.createElement(r.Fragment,null,K&&r.createElement(nt,{__scopeToast:o,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0},K),r.createElement(ot,{scope:o,onClose:I},Ie.createPortal(r.createElement(se.ItemSlot,{scope:o},r.createElement(ke,{asChild:!0,onEscapeKeyDown:h(f,()=>{u.isFocusedToastEscapeKeyDownRef.current||I(),u.isFocusedToastEscapeKeyDownRef.current=!1})},r.createElement(N.li,_({role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":d?"open":"closed","data-swipe-direction":u.swipeDirection},P,{ref:l,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:h(e.onKeyDown,s=>{s.key==="Escape"&&(f==null||f(s.nativeEvent),s.nativeEvent.defaultPrevented||(u.isFocusedToastEscapeKeyDownRef.current=!0,I()))}),onPointerDown:h(e.onPointerDown,s=>{s.button===0&&(v.current={x:s.clientX,y:s.clientY})}),onPointerMove:h(e.onPointerMove,s=>{if(!v.current)return;const y=s.clientX-v.current.x,S=s.clientY-v.current.y,L=!!T.current,V=["left","right"].includes(u.swipeDirection),j=["left","up"].includes(u.swipeDirection)?Math.min:Math.max,Re=V?j(0,y):0,Pe=V?0:j(0,S),J=s.pointerType==="touch"?10:2,W={x:Re,y:Pe},ce={originalEvent:s,delta:W};L?(T.current=W,H(Je,x,ce,{discrete:!1})):de(W,u.swipeDirection,J)?(T.current=W,H(Qe,g,ce,{discrete:!1}),s.target.setPointerCapture(s.pointerId)):(Math.abs(y)>J||Math.abs(S)>J)&&(v.current=null)}),onPointerUp:h(e.onPointerUp,s=>{const y=T.current,S=s.target;if(S.hasPointerCapture(s.pointerId)&&S.releasePointerCapture(s.pointerId),T.current=null,v.current=null,y){const L=s.currentTarget,V={originalEvent:s,delta:y};de(y,u.swipeDirection,u.swipeThreshold)?H(et,R,V,{discrete:!0}):H(Ze,F,V,{discrete:!0}),L.addEventListener("click",j=>j.preventDefault(),{once:!0})}})})))),u.viewport))):null});we.propTypes={type(e){if(e.type&&!["foreground","background"].includes(e.type)){const t=`Invalid prop \`type\` supplied to \`${G}\`. Expected \`foreground | background\`.`;return new Error(t)}return null}};const nt=e=>{const{__scopeToast:t,children:o,...n}=e,i=z(G,t),[d,p]=r.useState(!1),[f,b]=r.useState(!1);return dt(()=>p(!0)),r.useEffect(()=>{const a=window.setTimeout(()=>b(!0),1e3);return()=>window.clearTimeout(a)},[]),f?null:r.createElement(Ke,{asChild:!0},r.createElement(be,n,d&&r.createElement(r.Fragment,null,i.label," ",o)))},st=r.forwardRef((e,t)=>{const{__scopeToast:o,...n}=e;return r.createElement(N.div,_({},n,{ref:t}))}),at=r.forwardRef((e,t)=>{const{__scopeToast:o,...n}=e;return r.createElement(N.div,_({},n,{ref:t}))}),ct="ToastAction",xe=r.forwardRef((e,t)=>{const{altText:o,...n}=e;return o?r.createElement(ge,{altText:o,asChild:!0},r.createElement(Ee,_({},n,{ref:t}))):null});xe.propTypes={altText(e){return e.altText?null:new Error(`Missing prop \`altText\` expected on \`${ct}\``)}};const it="ToastClose",Ee=r.forwardRef((e,t)=>{const{__scopeToast:o,...n}=e,i=rt(it,o);return r.createElement(ge,{asChild:!0},r.createElement(N.button,_({type:"button"},n,{ref:t,onClick:h(e.onClick,i.onClose)})))}),ge=r.forwardRef((e,t)=>{const{__scopeToast:o,altText:n,...i}=e;return r.createElement(N.div,_({"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0},i,{ref:t}))});function ye(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),ut(n)){const i=n.ariaHidden||n.hidden||n.style.display==="none",d=n.dataset.radixToastAnnounceExclude==="";if(!i)if(d){const p=n.dataset.radixToastAnnounceAlt;p&&t.push(p)}else t.push(...ye(n))}}),t}function H(e,t,o,{discrete:n}){const i=o.originalEvent.currentTarget,d=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:o});t&&i.addEventListener(e,t,{once:!0}),n?Me(i,d):i.dispatchEvent(d)}const de=(e,t,o=0)=>{const n=Math.abs(e.x),i=Math.abs(e.y),d=n>i;return t==="left"||t==="right"?d&&n>o:!d&&i>o};function dt(e=()=>{}){const t=B(e);Fe(()=>{let o=0,n=0;return o=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(o),window.cancelAnimationFrame(n)}},[t])}function ut(e){return e.nodeType===e.ELEMENT_NODE}function lt(e){const t=[],o=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;o.nextNode();)t.push(o.currentNode);return t}function Z(e){const t=document.activeElement;return e.some(o=>o===t?!0:(o.focus(),document.activeElement!==t))}const pt=$e,ft=ze,mt=tt,bt=st,vt=at,Tt=xe,$t=Ee,wt=We("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-card-foreground",success:"success group border-success bg-success text-success-foreground",warning:"warning group border-warning bg-warning text-warning-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),xt=pt,Y=r.forwardRef(({className:e,...t},o)=>m.jsx(ft,{ref:o,className:O("fixed bottom-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px] right-0 md:top-0",e),...t}));Y.displayName="ToastViewport";const ae=r.forwardRef(({className:e,variant:t,...o},n)=>m.jsx(mt,{ref:n,className:O(wt({variant:t}),e),...o}));ae.displayName="Toast";const Et=r.forwardRef(({className:e,...t},o)=>m.jsx(Tt,{ref:o,className:O("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));Et.displayName="ToastAction";const he=r.forwardRef(({className:e,...t},o)=>m.jsx($t,{ref:o,className:O("absolute right-2 top-2 rounded-md p-1 text-card-foreground/50 opacity-0 transition-opacity hover:text-card-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600","group-[.warning]:text-amber-300 group-[.warning]:hover:text-amber-50 group-[.warning]:focus:ring-amber-400 group-[.warning]:focus:ring-offset-amber-600","group-[.success]:text-green-300 group-[.success]:hover:text-green-50 group-[.success]:focus:ring-green-400 group-[.success]:focus:ring-offset-green-600",e),"toast-close":"",...t,children:m.jsx(He,{className:"h-4 w-4"})}));he.displayName="ToastClose";const _e=r.forwardRef(({className:e,...t},o)=>m.jsx(bt,{ref:o,className:O("text-sm font-semibold",e),...t}));_e.displayName="ToastTitle";const Ce=r.forwardRef(({className:e,...t},o)=>m.jsx(vt,{ref:o,className:O("text-sm",e),...t}));Ce.displayName="ToastDescription";try{Y.displayName="ToastViewport",Y.__docgenInfo={description:"",displayName:"ToastViewport",props:{asChild:{defaultValue:null,description:"",name:"asChild",required:!1,type:{name:"boolean"}},variant:{defaultValue:null,description:"",name:"variant",required:!1,type:{name:'"destructive" | "success" | "default" | "warning" | null'}}}}}catch{}const gt=1,yt=1e6;let ee=0;function ht(){return ee=(ee+1)%Number.MAX_SAFE_INTEGER,ee.toString()}const te=new Map,X=[];let q={toasts:[]};function k(e){q=_t(q,e),X.forEach(t=>{t(q)})}function ue(e){if(te.has(e))return;const t=setTimeout(()=>{te.delete(e),k({type:"REMOVE_TOAST",toastId:e})},yt);te.set(e,t)}function _t(e,t){switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,gt)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(o=>o.id===t.toast.id?{...o,...t.toast}:o)};case"DISMISS_TOAST":{const{toastId:o}=t;return o?ue(o):e.toasts.forEach(n=>{ue(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===o||o===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(o=>o.id!==t.toastId)};default:return{...e,toasts:[]}}}function ne({...e}){const t=ht(),o=i=>k({type:"UPDATE_TOAST",toast:{...i,id:t}}),n=()=>k({type:"DISMISS_TOAST",toastId:t});return k({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:i=>{i||n()}}}),{id:t,dismiss:n,update:o}}function Se(){const[e,t]=r.useState(q);return r.useEffect(()=>(X.push(t),()=>{const o=X.indexOf(t);o>-1&&X.splice(o,1)}),[e]),{...e,toast:ne,dismiss:o=>k({type:"DISMISS_TOAST",toastId:o})}}try{ne.displayName="toast",ne.__docgenInfo={description:"",displayName:"toast",props:{variant:{defaultValue:null,description:"",name:"variant",required:!1,type:{name:'"destructive" | "success" | "default" | "warning" | null'}},description:{defaultValue:null,description:"",name:"description",required:!1,type:{name:"ReactNode"}},asChild:{defaultValue:null,description:"",name:"asChild",required:!1,type:{name:"boolean"}},action:{defaultValue:null,description:"",name:"action",required:!1,type:{name:"ToastActionElement"}}}}}catch{}function Ct(){const{toasts:e}=Se();return m.jsxs(xt,{children:[e.map(({id:t,title:o,description:n,action:i,...d})=>m.jsxs(ae,{...d,children:[m.jsxs("div",{className:"grid gap-1",children:[o&&m.jsx(_e,{children:o}),n&&m.jsx(Ce,{children:n})]}),i,m.jsx(he,{})]},t)),m.jsx(Y,{})]})}const Bt={component:ae,title:"Components/Toast"},U={args:{variant:"default"},argTypes:{variant:{options:["default","warning","destructive","success"],control:{type:"radio"}}},render:({variant:e})=>{const{toast:t}=Se(),o=()=>{t({title:Ae.finance.accountName(),description:"Seems you found a long toast here !",variant:e})};return m.jsxs(m.Fragment,{children:[m.jsx(De,{onClick:o,children:"Create Toast"}),m.jsx(Ct,{})]})}};var le,pe,fe;U.parameters={...U.parameters,docs:{...(le=U.parameters)==null?void 0:le.docs,source:{originalSource:`{
  args: {
    variant: 'default'
  },
  argTypes: {
    variant: {
      options: ['default', 'warning', 'destructive', 'success'],
      control: {
        type: 'radio'
      }
    }
  },
  render: ({
    variant
  }) => {
    const {
      toast
    } = useToast();
    const createToast = () => {
      toast({
        title: faker.finance.accountName(),
        description: 'Seems you found a long toast here !',
        variant
      });
    };
    return <>
        <Button onClick={createToast}>Create Toast</Button>
        <Toaster />
      </>;
  }
}`,...(fe=(pe=U.parameters)==null?void 0:pe.docs)==null?void 0:fe.source}}};const Yt=["Default"];export{U as Default,Yt as __namedExportsOrder,Bt as default};
