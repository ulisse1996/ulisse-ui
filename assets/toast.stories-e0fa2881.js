import{j as w,a as q,F as De}from"./jsx-runtime-29545a09.js";import{f as Ie}from"./index-3a83ac04.js";import{B as Ne}from"./index-ac2f2f2d.js";import{_}from"./extends-98964cd2.js";import{r}from"./index-76fb7be0.js";import{r as Oe}from"./index-d3ea75b5.js";import{$ as Fe,b as Me,e as j,c as h,a as Le}from"./index-7f80cad2.js";import{$ as be,b as N,c as Ve}from"./index-e2809c0a.js";import{$ as ke}from"./index-a93a8af2.js";import{a as Ke,b as We}from"./index-90d601c3.js";import{$ as He}from"./index-b3fcadf7.js";import{$ as Ue}from"./index-1f3e1a8a.js";import{a as ve}from"./index-748042b3.js";import{c as Xe}from"./index-a011252c.js";import{c as O}from"./utils-636fbba8.js";import{X as qe}from"./x-8d05627f.js";import"./spinner-8a72c79d.js";import"./_commonjsHelpers-de833af9.js";import"./createLucideIcon-de0f8b79.js";const Te="ToastProvider",[ae,Be,Ye]=ke("Toast"),[$e,jt]=Fe("Toast",[Ye]),[je,G]=$e(Te),we=e=>{const{__scopeToast:t,label:o="Notification",duration:n=5e3,swipeDirection:i="right",swipeThreshold:d=50,children:p}=e,[f,m]=r.useState(null),[a,x]=r.useState(0),E=r.useRef(!1),F=r.useRef(!1);return r.createElement(ae.Provider,{scope:t},r.createElement(je,{scope:t,label:o,duration:n,swipeDirection:i,swipeThreshold:d,toastCount:a,viewport:f,onViewportChange:m,onToastAdd:r.useCallback(()=>x(R=>R+1),[]),onToastRemove:r.useCallback(()=>x(R=>R-1),[]),isFocusedToastEscapeKeyDownRef:E,isClosePausedRef:F},p))};we.propTypes={label(e){if(e.label&&typeof e.label=="string"&&!e.label.trim()){const t=`Invalid prop \`label\` supplied to \`${Te}\`. Expected non-empty \`string\`.`;return new Error(t)}return null}};const ze="ToastViewport",Ge=["F8"],re="toast.viewportPause",ne="toast.viewportResume",Qe=r.forwardRef((e,t)=>{const{__scopeToast:o,hotkey:n=Ge,label:i="Notifications ({hotkey})",...d}=e,p=G(ze,o),f=Be(o),m=r.useRef(null),a=r.useRef(null),x=r.useRef(null),E=r.useRef(null),F=be(t,E,p.onViewportChange),R=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),P=p.toastCount>0;r.useEffect(()=>{const c=g=>{var l;n.every(v=>g[v]||g.code===v)&&((l=E.current)===null||l===void 0||l.focus())};return document.addEventListener("keydown",c),()=>document.removeEventListener("keydown",c)},[n]),r.useEffect(()=>{const c=m.current,g=E.current;if(P&&c&&g){const l=()=>{if(!p.isClosePausedRef.current){const $=new CustomEvent(re);g.dispatchEvent($),p.isClosePausedRef.current=!0}},b=()=>{if(p.isClosePausedRef.current){const $=new CustomEvent(ne);g.dispatchEvent($),p.isClosePausedRef.current=!1}},v=$=>{!c.contains($.relatedTarget)&&b()},T=()=>{c.contains(document.activeElement)||b()};return c.addEventListener("focusin",l),c.addEventListener("focusout",v),c.addEventListener("pointermove",l),c.addEventListener("pointerleave",T),window.addEventListener("blur",l),window.addEventListener("focus",b),()=>{c.removeEventListener("focusin",l),c.removeEventListener("focusout",v),c.removeEventListener("pointermove",l),c.removeEventListener("pointerleave",T),window.removeEventListener("blur",l),window.removeEventListener("focus",b)}}},[P,p.isClosePausedRef]);const u=r.useCallback(({tabbingDirection:c})=>{const l=f().map(b=>{const v=b.ref.current,T=[v,...ft(v)];return c==="forwards"?T:T.reverse()});return(c==="forwards"?l.reverse():l).flat()},[f]);return r.useEffect(()=>{const c=E.current;if(c){const g=l=>{const b=l.altKey||l.ctrlKey||l.metaKey;if(l.key==="Tab"&&!b){const M=document.activeElement,D=l.shiftKey;if(l.target===c&&D){var T;(T=a.current)===null||T===void 0||T.focus();return}const A=u({tabbingDirection:D?"backwards":"forwards"}),K=A.findIndex(s=>s===M);if(ee(A.slice(K+1)))l.preventDefault();else{var $,C;D?($=a.current)===null||$===void 0||$.focus():(C=x.current)===null||C===void 0||C.focus()}}};return c.addEventListener("keydown",g),()=>c.removeEventListener("keydown",g)}},[f,u]),r.createElement(Ke,{ref:m,role:"region","aria-label":i.replace("{hotkey}",R),tabIndex:-1,style:{pointerEvents:P?void 0:"none"}},P&&r.createElement(de,{ref:a,onFocusFromOutsideViewport:()=>{const c=u({tabbingDirection:"forwards"});ee(c)}}),r.createElement(ae.Slot,{scope:o},r.createElement(N.ol,_({tabIndex:-1},d,{ref:F}))),P&&r.createElement(de,{ref:x,onFocusFromOutsideViewport:()=>{const c=u({tabbingDirection:"backwards"});ee(c)}}))}),Je="ToastFocusProxy",de=r.forwardRef((e,t)=>{const{__scopeToast:o,onFocusFromOutsideViewport:n,...i}=e,d=G(Je,o);return r.createElement(ve,_({"aria-hidden":!0,tabIndex:0},i,{ref:t,style:{position:"fixed"},onFocus:p=>{var f;const m=p.relatedTarget;!((f=d.viewport)!==null&&f!==void 0&&f.contains(m))&&n()}}))}),Q="Toast",Ze="toast.swipeStart",et="toast.swipeMove",tt="toast.swipeCancel",ot="toast.swipeEnd",rt=r.forwardRef((e,t)=>{const{forceMount:o,open:n,defaultOpen:i,onOpenChange:d,...p}=e,[f=!0,m]=Me({prop:n,defaultProp:i,onChange:d});return r.createElement(Ue,{present:o||f},r.createElement(Ee,_({open:f},p,{ref:t,onClose:()=>m(!1),onPause:j(e.onPause),onResume:j(e.onResume),onSwipeStart:h(e.onSwipeStart,a=>{a.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:h(e.onSwipeMove,a=>{const{x,y:E}=a.detail.delta;a.currentTarget.setAttribute("data-swipe","move"),a.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${x}px`),a.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${E}px`)}),onSwipeCancel:h(e.onSwipeCancel,a=>{a.currentTarget.setAttribute("data-swipe","cancel"),a.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),a.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),a.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),a.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:h(e.onSwipeEnd,a=>{const{x,y:E}=a.detail.delta;a.currentTarget.setAttribute("data-swipe","end"),a.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),a.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),a.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${x}px`),a.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${E}px`),m(!1)})})))}),[nt,st]=$e(Q,{onClose(){}}),Ee=r.forwardRef((e,t)=>{const{__scopeToast:o,type:n="foreground",duration:i,open:d,onClose:p,onEscapeKeyDown:f,onPause:m,onResume:a,onSwipeStart:x,onSwipeMove:E,onSwipeCancel:F,onSwipeEnd:R,...P}=e,u=G(Q,o),[c,g]=r.useState(null),l=be(t,s=>g(s)),b=r.useRef(null),v=r.useRef(null),T=i||u.duration,$=r.useRef(0),C=r.useRef(T),M=r.useRef(0),{onToastAdd:D,onToastRemove:J}=u,I=j(()=>{var s;(c==null?void 0:c.contains(document.activeElement))&&((s=u.viewport)===null||s===void 0||s.focus()),p()}),A=r.useCallback(s=>{!s||s===1/0||(window.clearTimeout(M.current),$.current=new Date().getTime(),M.current=window.setTimeout(I,s))},[I]);r.useEffect(()=>{const s=u.viewport;if(s){const y=()=>{A(C.current),a==null||a()},S=()=>{const L=new Date().getTime()-$.current;C.current=C.current-L,window.clearTimeout(M.current),m==null||m()};return s.addEventListener(re,S),s.addEventListener(ne,y),()=>{s.removeEventListener(re,S),s.removeEventListener(ne,y)}}},[u.viewport,T,m,a,A]),r.useEffect(()=>{d&&!u.isClosePausedRef.current&&A(T)},[d,T,u.isClosePausedRef,A]),r.useEffect(()=>(D(),()=>J()),[D,J]);const K=r.useMemo(()=>c?he(c):null,[c]);return u.viewport?r.createElement(r.Fragment,null,K&&r.createElement(at,{__scopeToast:o,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0},K),r.createElement(nt,{scope:o,onClose:I},Oe.createPortal(r.createElement(ae.ItemSlot,{scope:o},r.createElement(We,{asChild:!0,onEscapeKeyDown:h(f,()=>{u.isFocusedToastEscapeKeyDownRef.current||I(),u.isFocusedToastEscapeKeyDownRef.current=!1})},r.createElement(N.li,_({role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":d?"open":"closed","data-swipe-direction":u.swipeDirection},P,{ref:l,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:h(e.onKeyDown,s=>{s.key==="Escape"&&(f==null||f(s.nativeEvent),s.nativeEvent.defaultPrevented||(u.isFocusedToastEscapeKeyDownRef.current=!0,I()))}),onPointerDown:h(e.onPointerDown,s=>{s.button===0&&(b.current={x:s.clientX,y:s.clientY})}),onPointerMove:h(e.onPointerMove,s=>{if(!b.current)return;const y=s.clientX-b.current.x,S=s.clientY-b.current.y,L=!!v.current,V=["left","right"].includes(u.swipeDirection),W=["left","up"].includes(u.swipeDirection)?Math.min:Math.max,Pe=V?W(0,y):0,Ae=V?0:W(0,S),Z=s.pointerType==="touch"?10:2,H={x:Pe,y:Ae},ie={originalEvent:s,delta:H};L?(v.current=H,U(et,E,ie,{discrete:!1})):ue(H,u.swipeDirection,Z)?(v.current=H,U(Ze,x,ie,{discrete:!1}),s.target.setPointerCapture(s.pointerId)):(Math.abs(y)>Z||Math.abs(S)>Z)&&(b.current=null)}),onPointerUp:h(e.onPointerUp,s=>{const y=v.current,S=s.target;if(S.hasPointerCapture(s.pointerId)&&S.releasePointerCapture(s.pointerId),v.current=null,b.current=null,y){const L=s.currentTarget,V={originalEvent:s,delta:y};ue(y,u.swipeDirection,u.swipeThreshold)?U(ot,R,V,{discrete:!0}):U(tt,F,V,{discrete:!0}),L.addEventListener("click",W=>W.preventDefault(),{once:!0})}})})))),u.viewport))):null});Ee.propTypes={type(e){if(e.type&&!["foreground","background"].includes(e.type)){const t=`Invalid prop \`type\` supplied to \`${Q}\`. Expected \`foreground | background\`.`;return new Error(t)}return null}};const at=e=>{const{__scopeToast:t,children:o,...n}=e,i=G(Q,t),[d,p]=r.useState(!1),[f,m]=r.useState(!1);return lt(()=>p(!0)),r.useEffect(()=>{const a=window.setTimeout(()=>m(!0),1e3);return()=>window.clearTimeout(a)},[]),f?null:r.createElement(He,{asChild:!0},r.createElement(ve,n,d&&r.createElement(r.Fragment,null,i.label," ",o)))},ct=r.forwardRef((e,t)=>{const{__scopeToast:o,...n}=e;return r.createElement(N.div,_({},n,{ref:t}))}),it=r.forwardRef((e,t)=>{const{__scopeToast:o,...n}=e;return r.createElement(N.div,_({},n,{ref:t}))}),dt="ToastAction",ge=r.forwardRef((e,t)=>{const{altText:o,...n}=e;return o?r.createElement(ye,{altText:o,asChild:!0},r.createElement(xe,_({},n,{ref:t}))):null});ge.propTypes={altText(e){return e.altText?null:new Error(`Missing prop \`altText\` expected on \`${dt}\``)}};const ut="ToastClose",xe=r.forwardRef((e,t)=>{const{__scopeToast:o,...n}=e,i=st(ut,o);return r.createElement(ye,{asChild:!0},r.createElement(N.button,_({type:"button"},n,{ref:t,onClick:h(e.onClick,i.onClose)})))}),ye=r.forwardRef((e,t)=>{const{__scopeToast:o,altText:n,...i}=e;return r.createElement(N.div,_({"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0},i,{ref:t}))});function he(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),pt(n)){const i=n.ariaHidden||n.hidden||n.style.display==="none",d=n.dataset.radixToastAnnounceExclude==="";if(!i)if(d){const p=n.dataset.radixToastAnnounceAlt;p&&t.push(p)}else t.push(...he(n))}}),t}function U(e,t,o,{discrete:n}){const i=o.originalEvent.currentTarget,d=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:o});t&&i.addEventListener(e,t,{once:!0}),n?Ve(i,d):i.dispatchEvent(d)}const ue=(e,t,o=0)=>{const n=Math.abs(e.x),i=Math.abs(e.y),d=n>i;return t==="left"||t==="right"?d&&n>o:!d&&i>o};function lt(e=()=>{}){const t=j(e);Le(()=>{let o=0,n=0;return o=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(o),window.cancelAnimationFrame(n)}},[t])}function pt(e){return e.nodeType===e.ELEMENT_NODE}function ft(e){const t=[],o=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;o.nextNode();)t.push(o.currentNode);return t}function ee(e){const t=document.activeElement;return e.some(o=>o===t?!0:(o.focus(),document.activeElement!==t))}const mt=we,bt=Qe,vt=rt,Tt=ct,$t=it,wt=ge,Et=xe,gt=Xe("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-card-foreground",success:"success group border-success bg-success text-success-foreground",warning:"warning group border-warning bg-warning text-warning-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),xt=mt,z=r.forwardRef(({className:e,...t},o)=>w(bt,{ref:o,className:O("fixed bottom-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px] right-0 md:top-0",e),...t}));z.displayName="ToastViewport";const ce=r.forwardRef(({className:e,variant:t,...o},n)=>w(vt,{ref:n,className:O(gt({variant:t}),e),...o}));ce.displayName="Toast";const yt=r.forwardRef(({className:e,...t},o)=>w(wt,{ref:o,className:O("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));yt.displayName="ToastAction";const _e=r.forwardRef(({className:e,...t},o)=>w(Et,{ref:o,className:O("absolute right-2 top-2 rounded-md p-1 text-card-foreground/50 opacity-0 transition-opacity hover:text-card-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600","group-[.warning]:text-amber-300 group-[.warning]:hover:text-amber-50 group-[.warning]:focus:ring-amber-400 group-[.warning]:focus:ring-offset-amber-600","group-[.success]:text-green-300 group-[.success]:hover:text-green-50 group-[.success]:focus:ring-green-400 group-[.success]:focus:ring-offset-green-600",e),"toast-close":"",...t,children:w(qe,{className:"h-4 w-4"})}));_e.displayName="ToastClose";const Ce=r.forwardRef(({className:e,...t},o)=>w(Tt,{ref:o,className:O("text-sm font-semibold",e),...t}));Ce.displayName="ToastTitle";const Se=r.forwardRef(({className:e,...t},o)=>w($t,{ref:o,className:O("text-sm",e),...t}));Se.displayName="ToastDescription";try{z.displayName="ToastViewport",z.__docgenInfo={description:"",displayName:"ToastViewport",props:{asChild:{defaultValue:null,description:"",name:"asChild",required:!1,type:{name:"boolean"}},variant:{defaultValue:null,description:"",name:"variant",required:!1,type:{name:'"destructive" | "default" | "warning" | "success" | null'}}}}}catch{}const ht=1,_t=1e6;let te=0;function Ct(){return te=(te+1)%Number.MAX_SAFE_INTEGER,te.toString()}const oe=new Map,B=[];let Y={toasts:[]};function k(e){Y=St(Y,e),B.forEach(t=>{t(Y)})}function le(e){if(oe.has(e))return;const t=setTimeout(()=>{oe.delete(e),k({type:"REMOVE_TOAST",toastId:e})},_t);oe.set(e,t)}function St(e,t){switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,ht)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(o=>o.id===t.toast.id?{...o,...t.toast}:o)};case"DISMISS_TOAST":{const{toastId:o}=t;return o?le(o):e.toasts.forEach(n=>{le(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===o||o===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(o=>o.id!==t.toastId)};default:return{...e,toasts:[]}}}function se({...e}){const t=Ct(),o=i=>k({type:"UPDATE_TOAST",toast:{...i,id:t}}),n=()=>k({type:"DISMISS_TOAST",toastId:t});return k({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:i=>{i||n()}}}),{id:t,dismiss:n,update:o}}function Re(){const[e,t]=r.useState(Y);return r.useEffect(()=>(B.push(t),()=>{const o=B.indexOf(t);o>-1&&B.splice(o,1)}),[e]),{...e,toast:se,dismiss:o=>k({type:"DISMISS_TOAST",toastId:o})}}try{se.displayName="toast",se.__docgenInfo={description:"",displayName:"toast",props:{variant:{defaultValue:null,description:"",name:"variant",required:!1,type:{name:'"destructive" | "default" | "warning" | "success" | null'}},asChild:{defaultValue:null,description:"",name:"asChild",required:!1,type:{name:"boolean"}},description:{defaultValue:null,description:"",name:"description",required:!1,type:{name:"ReactNode"}},action:{defaultValue:null,description:"",name:"action",required:!1,type:{name:"ToastActionElement"}}}}}catch{}function Rt(){const{toasts:e}=Re();return q(xt,{children:[e.map(({id:t,title:o,description:n,action:i,...d})=>q(ce,{...d,children:[q("div",{className:"grid gap-1",children:[o&&w(Ce,{children:o}),n&&w(Se,{children:n})]}),i,w(_e,{})]},t)),w(z,{})]})}const zt={component:ce,title:"Components/Toast"},X={args:{variant:"default"},argTypes:{variant:{options:["default","warning","destructive","success"],control:{type:"radio"}}},render:({variant:e})=>{const{toast:t}=Re();return q(De,{children:[w(Ne,{onClick:()=>{t({title:Ie.finance.accountName(),description:"Seems you found a long toast here !",variant:e})},children:"Create Toast"}),w(Rt,{})]})}};var pe,fe,me;X.parameters={...X.parameters,docs:{...(pe=X.parameters)==null?void 0:pe.docs,source:{originalSource:`{
  args: {
    variant: 'default'
  },
  argTypes: {
    variant: {
      options: ['default', 'warning', 'destructive', 'success'],
      control: {
        type: 'radio'
      }
    }
  },
  render: ({
    variant
  }) => {
    const {
      toast
    } = useToast();
    const createToast = () => {
      toast({
        title: faker.finance.accountName(),
        description: 'Seems you found a long toast here !',
        variant
      });
    };
    return <>
        <Button onClick={createToast}>Create Toast</Button>
        <Toaster />
      </>;
  }
}`,...(me=(fe=X.parameters)==null?void 0:fe.docs)==null?void 0:me.source}}};const Gt=["Default"];export{X as Default,Gt as __namedExportsOrder,zt as default};
